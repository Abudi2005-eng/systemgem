# نظام إدارة الأعضاء

## 🎯 نظرة عامة

نظام إدارة الأعضاء هو حجر الأساس في نظام إدارة الجيم، حيث يوفر وظائف شاملة لتسجيل وإدارة بيانات الأعضاء، متابعة حالتهم، وربطهم بالأنظمة الأخرى مثل الاشتراكات والحضور والمدفوعات.

## 📋 الوظائف الرئيسية

### 1. تسجيل وإدارة بيانات الأعضاء
- إضافة عضو جديد مع بيانات كاملة (الاسم، العمر، رقم الهاتف، العنوان، إلخ)
- تعديل بيانات الأعضاء الحاليين
- أرشفة الأعضاء غير النشطين
- البحث عن الأعضاء باستخدام معايير مختلفة
- عرض قائمة الأعضاء مع إمكانية التصفية والفرز

### 2. توليد أكواد العضوية
- توليد كود عضوية فريد لكل عضو
- إمكانية تخصيص نمط الكود
- استخدام الكود في تسجيل الحضور والانصراف

### 3. إدارة بطاقات العضوية
- إنشاء بطاقات عضوية قابلة للطباعة
- دعم الباركود/QR لتسهيل تسجيل الحضور
- تضمين معلومات العضو والاشتراك على البطاقة

### 4. متابعة حالة العضو
- عرض حالة العضو (نشط، غير نشط، مجمد)
- متابعة تاريخ الاشتراكات السابقة والحالية
- عرض سجل الحضور والانصراف
- متابعة المديونيات

## 🗃️ نموذج بيانات العضو

```python
class Member(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    member_code = db.Column(db.String(20), unique=True)
    first_name = db.Column(db.String(50), nullable=False)
    last_name = db.Column(db.String(50), nullable=False)
    phone = db.Column(db.String(20))
    email = db.Column(db.String(100))
    birth_date = db.Column(db.Date, nullable=True)
    gender = db.Column(db.String(10))
    address = db.Column(db.String(200))
    join_date = db.Column(db.DateTime, default=datetime.utcnow)
    active = db.Column(db.Boolean, default=True)
    notes = db.Column(db.Text)
    preferred_time_period = db.Column(db.String(10), nullable=True)  # 'men' or 'women'
    photo_path = db.Column(db.String(255))
    
    # العلاقات
    subscriptions = db.relationship('Subscription', backref='member', lazy=True)
    attendances = db.relationship('Attendance', backref='member', lazy=True)
    payments = db.relationship('Payment', backref='member', lazy=True)
```

## 🔄 العلاقات مع الأنظمة الأخرى

### 1. العلاقة مع نظام الاشتراكات
- كل عضو يمكن أن يكون له عدة اشتراكات (تاريخية)
- يمكن أن يكون للعضو اشتراك نشط واحد فقط في وقت معين
- يتم ربط العضو بالاشتراك من خلال معرف العضو

### 2. العلاقة مع نظام الحضور والانصراف
- كل عضو له سجل حضور وانصراف
- يتم تسجيل الحضور والانصراف باستخدام كود العضوية
- يمكن عرض إحصائيات الحضور لكل عضو

### 3. العلاقة مع نظام المدفوعات والفواتير
- كل عضو له سجل مدفوعات وفواتير
- يمكن متابعة المديونيات لكل عضو
- يتم ربط الفواتير والمدفوعات بالعضو من خلال معرف العضو

## 📊 الإحصائيات والتقارير

### 1. إحصائيات العضو
- عدد مرات الحضور
- متوسط مدة التمرين
- عدد الاشتراكات السابقة
- إجمالي المدفوعات

### 2. تقارير الأعضاء
- تقرير الأعضاء النشطين
- تقرير الأعضاء المنتهية اشتراكاتهم
- تقرير الأعضاء المتأخرين في الدفع
- تقرير الأعضاء الجدد

## 🖥️ واجهات المستخدم

### 1. صفحة قائمة الأعضاء
- عرض قائمة الأعضاء مع إمكانية التصفية والفرز
- خيارات للبحث عن الأعضاء
- أزرار للإجراءات السريعة (تعديل، حذف، عرض التفاصيل)

### 2. صفحة إضافة/تعديل عضو
- نموذج لإدخال بيانات العضو
- خيارات لتحميل صورة العضو
- حقول إلزامية واختيارية

### 3. صفحة تفاصيل العضو
- عرض بيانات العضو الكاملة
- عرض الاشتراكات الحالية والسابقة
- عرض سجل الحضور والانصراف
- عرض المدفوعات والمديونيات

### 4. صفحة بطاقة العضوية
- عرض بطاقة العضوية القابلة للطباعة
- تضمين الباركود/QR
- خيارات للطباعة

## 🛠️ الخدمات والوظائف المتقدمة

### 1. توليد كود العضوية
- توليد كود فريد لكل عضو
- إمكانية تخصيص نمط الكود
- التحقق من عدم تكرار الكود

### 2. البحث المتقدم
- البحث باستخدام معايير متعددة
- البحث بالاسم، رقم الهاتف، كود العضوية، إلخ
- عرض نتائج البحث بشكل فوري

### 3. تصدير بيانات الأعضاء
- تصدير قائمة الأعضاء بتنسيق CSV/Excel
- تصدير تقارير الأعضاء
- طباعة بطاقات العضوية

### 4. إشعارات وتنبيهات
- تنبيهات للاشتراكات المنتهية
- تنبيهات للمديونيات
- تنبيهات لأعياد الميلاد

## 📱 تجربة المستخدم

- واجهة مستخدم سهلة الاستخدام
- دعم كامل للغة العربية مع RTL
- تصميم متجاوب يعمل على جميع الأجهزة
- إجراءات سريعة للعمليات المتكررة
- تنبيهات وإشعارات واضحة

## 🔒 الأمان والخصوصية

- حماية بيانات الأعضاء الشخصية
- تشفير البيانات الحساسة
- صلاحيات الوصول حسب دور المستخدم
- سجل للعمليات المهمة

