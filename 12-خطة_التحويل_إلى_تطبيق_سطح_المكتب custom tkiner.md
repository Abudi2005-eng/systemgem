# Ø®Ø·Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ Flask Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ CustomTkinter

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ÙŠÙ‚Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø®Ø·Ø© Ø´Ø§Ù…Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Flask Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… CustomTkinter. Ø§Ù„Ù‡Ø¯Ù Ù‡Ùˆ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù ÙˆØ§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ø¹ ØªÙƒÙŠÙŠÙÙ‡Ø§ Ù„Ø¨ÙŠØ¦Ø© Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ØŒ Ù…Ù…Ø§ ÙŠØ³Ù…Ø­ Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆØ¨Ø´ÙƒÙ„ Ø£ÙƒØ«Ø± ÙƒÙØ§Ø¡Ø©.

## ğŸ“‹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¨ÙŠØ¦ØªÙŠÙ†

| Ø§Ù„Ø¬Ø§Ù†Ø¨ | ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ Flask | ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ CustomTkinter |
|--------|----------------|-----------------------------|
| **ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…** | HTML/CSS/JavaScript | CustomTkinter (Python) |
| **Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** | SQLite/PostgreSQL (Ø®Ø§Ø¯Ù…) | SQLite (Ù…Ø­Ù„ÙŠ) |
| **Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©** | Ø¬Ù„Ø³Ø§Øª Ø§Ù„ÙˆÙŠØ¨ØŒ Ø±Ù…ÙˆØ² JWT | Ù…ØµØ§Ø¯Ù‚Ø© Ù…Ø­Ù„ÙŠØ© |
| **Ø§Ù„ØªÙˆØ²ÙŠØ¹** | Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø®Ø§Ø¯Ù… ÙˆÙŠØ¨ | ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø§Ø¦Ù… Ø¨Ø°Ø§ØªÙ‡ |
| **Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª** | Ù…Ø±ÙƒØ²ÙŠØ© (ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ø§Ø¯Ù…) | ØªØ­Ø¯ÙŠØ«Ø§Øª Ù„Ù„Ø¹Ù…ÙŠÙ„ |
| **Ø§Ù„Ø§ØªØµØ§Ù„** | ÙŠØªØ·Ù„Ø¨ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª | ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ |
| **Ø§Ù„Ø£Ø¯Ø§Ø¡** | ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø³Ø±Ø¹Ø© Ø§Ù„Ø§ØªØµØ§Ù„ | Ø£Ø¯Ø§Ø¡ Ù…Ø­Ù„ÙŠ Ø£Ø³Ø±Ø¹ |

## ğŸ—ï¸ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø§Ù… Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯

```
gymawy-desktop/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/        # Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚   â”œâ”€â”€ models/             # Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”œâ”€â”€ views/              # ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… CustomTkinter
â”‚   â”œâ”€â”€ services/           # Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
â”‚   â”œâ”€â”€ utils/              # Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚   â””â”€â”€ assets/             # Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯
â”œâ”€â”€ config/                 # Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
â”œâ”€â”€ database/               # Ù…Ù„ÙØ§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”œâ”€â”€ docs/                   # ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
â””â”€â”€ main.py                 # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚
```

## ğŸ’» Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„

### 1. Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª

ÙŠÙ…ÙƒÙ† Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø·ÙÙŠÙØ©:

- **Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ (Models)**: ÙŠÙ…ÙƒÙ† Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
- **Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Services)**: ÙŠÙ…ÙƒÙ† Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø¸Ù… Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ.
- **Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© (Utils)**: ÙŠÙ…ÙƒÙ† Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø¸Ù… Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©.

### 2. ØªØ­ÙˆÙŠÙ„ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

ÙŠØ¬Ø¨ Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… CustomTkinter:

- **ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ HTML**: ØªØ­ÙˆÙŠÙ„ ÙƒÙ„ Ù‚Ø§Ù„Ø¨ HTML Ø¥Ù„Ù‰ Ù†Ø§ÙØ°Ø© Ø£Ùˆ Ø¥Ø·Ø§Ø± CustomTkinter.
- **ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬**: ØªØ­ÙˆÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ HTML Ø¥Ù„Ù‰ Ù†Ù…Ø§Ø°Ø¬ CustomTkinter.
- **ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø§Øª Ù…Ø«Ù„ Treeview Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„ÙŠØ©.

### 3. ØªÙƒÙŠÙŠÙ Ù†Ù…Ø· MVC

- **Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ (Models)**: Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù†ÙØ³ Ø¨Ù†ÙŠØ© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
- **Ø§Ù„Ø¹Ø±ÙˆØ¶ (Views)**: Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ù‚ÙˆØ§Ù„Ø¨ Jinja2 Ø¨ÙØ¦Ø§Øª CustomTkinter.
- **ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… (Controllers)**: ØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ø¹Ù…Ù„ Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø§Øª CustomTkinter Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø·Ù„Ø¨Ø§Øª HTTP.

## ğŸ”„ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø±Ø­Ù„ÙŠØ©

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ (1-2 Ø£Ø³Ø¨ÙˆØ¹)

1. **Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±**:
   - ØªØ«Ø¨ÙŠØª CustomTkinter ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©.
   - Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯.

2. **ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ**:
   - ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù.
   - ØªØ­Ø¯ÙŠØ¯ ØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª.
   - ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….

3. **ØªØµÙ…ÙŠÙ… ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**:
   - Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…Ø§Ø°Ø¬ Ø£ÙˆÙ„ÙŠØ© Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©.
   - ØªØ­Ø¯ÙŠØ¯ Ø£Ø³Ù„ÙˆØ¨ ÙˆØ³Ù…Ø© Ø§Ù„ØªØµÙ…ÙŠÙ….

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª (2-3 Ø£Ø³Ø§Ø¨ÙŠØ¹)

1. **ØªØ­ÙˆÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**:
   - Ù†Ù‚Ù„ ØªØ¹Ø±ÙŠÙØ§Øª Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„ ORM Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±.
   - ØªÙƒÙŠÙŠÙ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù†Ù…Ø§Ø°Ø¬.

2. **ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª**:
   - Ù†Ù‚Ù„ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ù…Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©.
   - ØªÙƒÙŠÙŠÙ Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª.

3. **Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©**:
   - Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
   - ÙƒØªØ§Ø¨Ø© ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ±Ø­ÙŠÙ„ ÙˆØ§Ù„ØªÙ‡ÙŠØ¦Ø©.

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø¨Ù†Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (3-4 Ø£Ø³Ø§Ø¨ÙŠØ¹)

1. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ**:
   - Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ÙˆØ§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ.
   - ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª.

2. **ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©**:
   - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Dashboard).
   - Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.
   - Ø´Ø§Ø´Ø§Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©.

3. **ØªÙ†ÙÙŠØ° Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©**:
   - Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø­ÙˆØ§Ø± Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©.
   - Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø®ØµØµØ©.
   - Ù…ÙƒÙˆÙ†Ø§Øª Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØªØ­ÙˆÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… (4-6 Ø£Ø³Ø§Ø¨ÙŠØ¹)

1. **Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡**:
   - Ø´Ø§Ø´Ø§Øª Ø¹Ø±Ø¶ ÙˆØ¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡.
   - Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙˆØ±.

2. **Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ÙˆØ®Ø·Ø· Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©**:
   - Ø´Ø§Ø´Ø§Øª Ø¥Ø¯Ø§Ø±Ø© Ø®Ø·Ø· Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©.
   - Ø´Ø§Ø´Ø§Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ÙˆØ§Ù„ØªØ¬Ø¯ÙŠØ¯.

3. **Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù**:
   - ÙˆØ§Ø¬Ù‡Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù.
   - Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±.

4. **Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆØ§Ù„ÙÙˆØ§ØªÙŠØ±**:
   - Ø´Ø§Ø´Ø§Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª.
   - Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±.

5. **Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±**:
   - Ø´Ø§Ø´Ø§Øª Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±.
   - ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¨ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù…Ø®ØªÙ„ÙØ©.

6. **Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª**:
   - Ø´Ø§Ø´Ø§Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†.
   - Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª.

7. **Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª**:
   - Ø´Ø§Ø´Ø§Øª Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù….
   - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª.

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ† (2-3 Ø£Ø³Ø§Ø¨ÙŠØ¹)

1. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¸Ø§Ø¦Ù**:
   - Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù†Ø¸Ø§Ù….
   - Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø³Ù„ÙˆÙƒ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ØµÙ„ÙŠ.

2. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡**:
   - ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….
   - ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.

3. **ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**:
   - ØªÙ†ÙÙŠØ° Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­.
   - ØªØ­Ø³ÙŠÙ† ØªØ¯ÙÙ‚ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6: Ø§Ù„ØªÙˆØ²ÙŠØ¹ ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚ (1-2 Ø£Ø³Ø¨ÙˆØ¹)

1. **Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ø²Ù…Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹**:
   - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªÙ†ÙÙŠØ°ÙŠ Ù‚Ø§Ø¦Ù… Ø¨Ø°Ø§ØªÙ‡.
   - Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ«Ø¨ÙŠØª.

2. **Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªÙˆØ«ÙŠÙ‚**:
   - ØªÙˆØ«ÙŠÙ‚ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.
   - ØªØ­Ø¯ÙŠØ« Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….

## ğŸ§© ØªÙØ§ØµÙŠÙ„ ØªÙ†ÙÙŠØ° Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Ù†Ø¸Ø§Ù… Ø§Ù„ÙØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù†Ø³ÙŠÙ†

ÙŠØ¹ØªØ¨Ø± Ø§Ù„ÙØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù†Ø³ÙŠÙ† Ù…Ù† Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø­ÙŠØ« ÙŠØ¬Ø¨ ØªÙ†ÙÙŠØ°Ù‡ Ø¨Ø´ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ ÙƒÙ…Ø§ Ù‡Ùˆ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆÙŠØ¨. ÙÙŠÙ…Ø§ ÙŠÙ„ÙŠ ØªÙØ§ØµÙŠÙ„ ØªÙ†ÙÙŠØ° Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø©:

#### 1.1 Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ¹Ø±ÙŠÙØ§Øª

```python
# app/utils/time_period_utils.py
from enum import Enum

class TimePeriod(Enum):
    MEN = "men"
    WOMEN = "women"
    BOTH = "both"

def get_current_time_period(user=None, session=None):
    """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ø±Ø¬Ø§Ù„/Ø³ÙŠØ¯Ø§Øª) Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£Ùˆ Ø§Ù„Ø¬Ù„Ø³Ø©"""
    if user:
        return user.time_period
    elif session and "time_period" in session:
        return session["time_period"]
    return None

def get_allowed_time_periods_for_user(user):
    """ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¯ÙˆØ±Ù‡ ÙˆØ¬Ù†Ø³Ù‡"""
    allowed_periods = [TimePeriod.BOTH.value]
    
    if user.is_admin:
        # Ø§Ù„Ù…Ø¯ÙŠØ± Ù„Ø¯ÙŠÙ‡ ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØªØ±Ø§Øª
        allowed_periods.extend([TimePeriod.MEN.value, TimePeriod.WOMEN.value])
    elif user.gender == "female":
        # Ø§Ù„Ù…ÙˆØ¸ÙØ§Øª Ù„Ø¯ÙŠÙ‡Ù† ÙˆØµÙˆÙ„ Ù„ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª ÙÙ‚Ø·
        allowed_periods.append(TimePeriod.WOMEN.value)
    elif user.gender == "male":
        # Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ† Ù„Ø¯ÙŠÙ‡Ù… ÙˆØµÙˆÙ„ Ù„ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„ ÙÙ‚Ø·
        allowed_periods.append(TimePeriod.MEN.value)
    
    return allowed_periods

def validate_time_period_access(user, requested_period):
    """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ÙØªØ±Ø© Ø²Ù…Ù†ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©"""
    allowed_periods = get_allowed_time_periods_for_user(user)
    return requested_period in allowed_periods
```

#### 1.2 ØªØ¹Ø¯ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

```python
# app/controllers/auth_controller.py
class AuthController:
    def __init__(self, db_service, security_service):
        self.db_service = db_service
        self.security_service = security_service
    
    def login(self, username, password, time_period):
        user = self.db_service.get_user_by_username(username)
        if user and self.security_service.verify_password(password, user.password_hash):
            # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            from app.utils.time_period_utils import validate_time_period_access
            if validate_time_period_access(user, time_period):
                # ØªØ­Ø¯ÙŠØ« Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
                user.last_login = datetime.now()
                user.time_period = time_period
                self.db_service.update_user(user)
                return user
        return None
```

#### 1.3 ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ø¬Ù‡Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„

```python
# app/views/auth_view.py
class LoginWindow(ctk.CTkToplevel):
    def __init__(self, parent, auth_controller):
        super().__init__(parent)
        self.auth_controller = auth_controller
        self.title("ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„")
        self.geometry("400x400")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.username_label = ctk.CTkLabel(self, text="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:")
        self.username_label.pack(pady=10)
        
        self.username_entry = ctk.CTkEntry(self, width=200)
        self.username_entry.pack(pady=5)
        
        self.password_label = ctk.CTkLabel(self, text="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:")
        self.password_label.pack(pady=10)
        
        self.password_entry = ctk.CTkEntry(self, width=200, show="*")
        self.password_entry.pack(pady=5)
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
        self.period_label = ctk.CTkLabel(self, text="Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©:")
        self.period_label.pack(pady=10)
        
        self.period_var = ctk.StringVar(value="men")
        self.period_men = ctk.CTkRadioButton(self, text="ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„", variable=self.period_var, value="men")
        self.period_men.pack(pady=5)
        
        self.period_women = ctk.CTkRadioButton(self, text="ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª", variable=self.period_var, value="women")
        self.period_women.pack(pady=5)
        
        # Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø­ÙˆÙ„ Ø§Ù„ÙØªØ±Ø§Øª
        self.note_label = ctk.CTkLabel(self, text="Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø°ÙƒÙˆØ± Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„ ÙÙ‚Ø·ØŒ\nÙˆÙŠÙ…ÙƒÙ† Ù„Ù„Ù…ÙˆØ¸ÙØ§Øª Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª ÙÙ‚Ø·.", text_color="gray70")
        self.note_label.pack(pady=10)
        
        self.login_button = ctk.CTkButton(self, text="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„", command=self.login)
        self.login_button.pack(pady=20)
        
        self.error_label = ctk.CTkLabel(self, text="", text_color="red")
        self.error_label.pack(pady=10)
    
    def login(self):
        username = self.username_entry.get()
        password = self.password_entry.get()
        time_period = self.period_var.get()
        
        user = self.auth_controller.login(username, password, time_period)
        if user:
            self.destroy()  # Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            self.master.show_main_window(user)  # Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        else:
            self.error_label.configure(text="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©\nØ£Ùˆ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©")
```

#### 1.4 ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©

```python
# app/views/main_window.py
class MainWindow(ctk.CTk):
    def __init__(self, auth_controller):
        super().__init__()
        self.auth_controller = auth_controller
        self.current_user = None
        
        # ... Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ...
        
    def show_main_window(self, user):
        self.current_user = user
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ÙØªØ±Ø©
        self.header_frame = ctk.CTkFrame(self)
        self.header_frame.pack(fill="x", padx=10, pady=5)
        
        # Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        period_text = "ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„" if user.time_period == "men" else "ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª" if user.time_period == "women" else "Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØªØ±Ø§Øª"
        self.user_label = ctk.CTkLabel(self.header_frame, text=f"Ù…Ø±Ø­Ø¨Ø§Ù‹ {user.name} | {period_text}")
        self.user_label.pack(side="right", padx=10)
        
        # ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ ...
```

#### 1.5 ØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙˆØµÙˆÙ„

```python
# app/controllers/member_controller.py
class MemberController:
    def __init__(self, db_service, current_user):
        self.db_service = db_service
        self.current_user = current_user
    
    def get_all_members(self):
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if self.current_user.is_admin:
            # Ø§Ù„Ù…Ø¯ÙŠØ± ÙŠÙ…ÙƒÙ†Ù‡ Ø±Ø¤ÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
            return self.db_service.get_all_members()
        else:
            # Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ† ÙŠØ±ÙˆÙ† ÙÙ‚Ø· Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙÙŠ ÙØªØ±ØªÙ‡Ù…
            time_period = self.current_user.time_period
            if time_period == "men":
                return self.db_service.get_members_by_gender("male")
            elif time_period == "women":
                return self.db_service.get_members_by_gender("female")
            else:
                return self.db_service.get_all_members()
```

#### 1.6 ØªØ¹Ø¯ÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙˆØµÙˆÙ„

```python
# app/models/user.py
class User:
    def __init__(self, id, username, password_hash, name, role, gender, time_period=None, last_login=None):
        self.id = id
        self.username = username
        self.password_hash = password_hash
        self.name = name
        self.role = role
        self.gender = gender  # "male" Ø£Ùˆ "female"
        self.time_period = time_period  # "men" Ø£Ùˆ "women" Ø£Ùˆ "both"
        self.last_login = last_login
        
    @property
    def is_admin(self):
        return self.role == "admin"
    
    def has_time_period_access(self, member):
        """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¶Ùˆ Ù…Ø¹ÙŠÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„ÙØªØ±Ø©"""
        if self.is_admin:
            # Ø§Ù„Ù…Ø¯ÙŠØ± Ù„Ø¯ÙŠÙ‡ ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„
            return True
        
        if self.time_period == "both":
            # ÙØªØ±Ø© Ù…Ø´ØªØ±ÙƒØ© ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
            return True
        
        if self.time_period == "men" and member.gender == "male":
            # ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„ ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø°ÙƒÙˆØ± ÙÙ‚Ø·
            return True
        
        if self.time_period == "women" and member.gender == "female":
            # ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¥Ù†Ø§Ø« ÙÙ‚Ø·
            return True
        
        return False
```

#### 1.7 ØªØ¹Ø¯ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù

```python
# app/controllers/attendance_controller.py
class AttendanceController:
    def __init__(self, db_service, current_user):
        self.db_service = db_service
        self.current_user = current_user
    
    def check_in_member(self, member_id):
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ù‚Ø¨Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±
        member = self.db_service.get_member_by_id(member_id)
        if not member or not self.current_user.has_time_period_access(member):
            return {"success": False, "error": "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ"}
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ± Ù…ÙØªÙˆØ­
        if self.db_service.has_open_attendance(member_id):
            return {"success": False, "error": "Ø§Ù„Ø¹Ø¶Ùˆ Ù…Ø³Ø¬Ù„ Ø­Ø¶ÙˆØ± Ø¨Ø§Ù„ÙØ¹Ù„"}
        
        # ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±

### 2. Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…

ÙŠØ¹ØªØ¨Ø± Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ù…Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø­ÙŠØ« ÙŠØªÙŠØ­ ØªØ®ØµÙŠØµ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ÙˆØ¹Ø±Ø¶Ù‡Ø§ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. ÙÙŠÙ…Ø§ ÙŠÙ„ÙŠ ØªÙØ§ØµÙŠÙ„ ØªÙ†ÙÙŠØ° Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨:

#### 2.1 Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ¹Ø±ÙŠÙØ§Øª

```python
# app/models/gym_settings.py
class GymSettings:
    def __init__(self, id=None, gym_name="Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©", gym_logo=None, address=None, 
                 phone=None, email=None, website=None, working_hours=None, 
                 male_hours=None, female_hours=None, currency="EGP", 
                 invoice_header=None, invoice_footer=None, 
                 primary_color="#4e73df", secondary_color="#1cc88a"):
        self.id = id
        self.gym_name = gym_name
        self.gym_logo = gym_logo  # Ù…Ø³Ø§Ø± Ù…Ù„Ù Ø§Ù„Ù„ÙˆØ¬Ùˆ
        self.address = address
        self.phone = phone
        self.email = email
        self.website = website
        self.working_hours = working_hours
        self.male_hours = male_hours
        self.female_hours = female_hours
        self.currency = currency
        self.invoice_header = invoice_header
        self.invoice_footer = invoice_footer
        self.primary_color = primary_color
        self.secondary_color = secondary_color
        self.created_at = None
        self.updated_at = None
    
    @property
    def has_logo(self):
        """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù„ÙˆØ¬Ùˆ"""
        return self.gym_logo is not None and self.gym_logo.strip() != ''
    
    @property
    def logo_path(self):
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„ÙˆØ¬Ùˆ"""
        if self.has_logo:
            return os.path.join("assets", "logos", self.gym_logo)
        return None
```

#### 2.2 Ø®Ø¯Ù…Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…

```python
# app/services/gym_settings_service.py
import os
import shutil
from datetime import datetime
from PIL import Image

class GymSettingsService:
    def __init__(self, db_service):
        self.db_service = db_service
        self.settings = None
        self._load_settings()
    
    def _load_settings(self):
        """ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"""
        self.settings = self.db_service.get_gym_settings()
        if not self.settings:
            # Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
            self.settings = self.db_service.create_gym_settings()
    
    def get_settings(self):
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…"""
        return self.settings
    
    def update_settings(self, **kwargs):
        """ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…"""
        for key, value in kwargs.items():
            if hasattr(self.settings, key):
                setattr(self.settings, key, value)
        
        self.settings.updated_at = datetime.now()
        self.db_service.update_gym_settings(self.settings)
        return self.settings
    
    def upload_logo(self, logo_path):
        """ØªØ­Ù…ÙŠÙ„ Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ…"""
        if not logo_path or not os.path.exists(logo_path):
            return False
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
        logos_dir = os.path.join("assets", "logos")
        os.makedirs(logos_dir, exist_ok=True)
        
        # ØªÙˆÙ„ÙŠØ¯ Ø§Ø³Ù… Ù…Ù„Ù ÙØ±ÙŠØ¯ Ù„Ù„ÙˆØ¬Ùˆ
        file_ext = os.path.splitext(logo_path)[1]
        new_logo_name = f"gym_logo_{datetime.now().strftime('%Y%m%d%H%M%S')}{file_ext}"
        new_logo_path = os.path.join(logos_dir, new_logo_name)
        
        try:
            # Ù†Ø³Ø® Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù„ÙˆØ¬Ùˆ
            shutil.copy2(logo_path, new_logo_path)
            
            # ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø§Ø± Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            self.update_settings(gym_logo=new_logo_name)
            return True
        except Exception as e:
            print(f"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ÙˆØ¬Ùˆ: {e}")
            return False
    
    def remove_logo(self):
        """Ø¥Ø²Ø§Ù„Ø© Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ…"""
        if self.settings.has_logo:
            logo_path = self.settings.logo_path
            if os.path.exists(logo_path):
                try:
                    os.remove(logo_path)
                except Exception as e:
                    print(f"Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ù…Ù„Ù Ø§Ù„Ù„ÙˆØ¬Ùˆ: {e}")
            
            # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„Ø¥Ø²Ø§Ù„Ø© Ù…Ø³Ø§Ø± Ø§Ù„Ù„ÙˆØ¬Ùˆ
            self.update_settings(gym_logo=None)
            return True
        return False
```

#### 2.3 ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…

```python
# app/views/settings/gym_settings_window.py
import customtkinter as ctk
from tkinter import filedialog, messagebox
from PIL import Image, ImageTk
import os

class GymSettingsWindow(ctk.CTkToplevel):
    def __init__(self, parent, gym_settings_service):
        super().__init__(parent)
        self.gym_settings_service = gym_settings_service
        self.settings = gym_settings_service.get_settings()
        
        self.title("Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ")
        self.geometry("800x600")
        self.resizable(True, True)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        self.main_frame = ctk.CTkFrame(self)
        self.main_frame.pack(fill="both", expand=True, padx=20, pady=20)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self._create_widgets()
        
        # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        self._load_current_settings()
    
    def _create_widgets(self):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"""
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        self.basic_info_frame = ctk.CTkFrame(self.main_frame)
        self.basic_info_frame.pack(fill="x", padx=10, pady=10)
        
        # Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù…
        self.basic_info_label = ctk.CTkLabel(self.basic_info_frame, text="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©", font=ctk.CTkFont(size=16, weight="bold"))
        self.basic_info_label.pack(pady=10)
        
        # Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ
        self.gym_name_label = ctk.CTkLabel(self.basic_info_frame, text="Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ:")
        self.gym_name_label.pack(anchor="w", padx=10, pady=(10, 5))
        
        self.gym_name_entry = ctk.CTkEntry(self.basic_info_frame, width=400)
        self.gym_name_entry.pack(anchor="w", padx=10, pady=(0, 10))
        
        # Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        self.address_label = ctk.CTkLabel(self.basic_info_frame, text="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:")
        self.address_label.pack(anchor="w", padx=10, pady=(10, 5))
        
        self.address_entry = ctk.CTkTextbox(self.basic_info_frame, width=400, height=60)
        self.address_entry.pack(anchor="w", padx=10, pady=(0, 10))
        
        # Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
        self.phone_label = ctk.CTkLabel(self.basic_info_frame, text="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:")
        self.phone_label.pack(anchor="w", padx=10, pady=(10, 5))
        
        self.phone_entry = ctk.CTkEntry(self.basic_info_frame, width=400)
        self.phone_entry.pack(anchor="w", padx=10, pady=(0, 10))
        
        # Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
        self.email_label = ctk.CTkLabel(self.basic_info_frame, text="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:")
        self.email_label.pack(anchor="w", padx=10, pady=(10, 5))
        
        self.email_entry = ctk.CTkEntry(self.basic_info_frame, width=400)
        self.email_entry.pack(anchor="w", padx=10, pady=(0, 10))
        
        # Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
        self.website_label = ctk.CTkLabel(self.basic_info_frame, text="Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:")
        self.website_label.pack(anchor="w", padx=10, pady=(10, 5))
        
        self.website_entry = ctk.CTkEntry(self.basic_info_frame, width=400)
        self.website_entry.pack(anchor="w", padx=10, pady=(0, 10))
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø·Ø§Ø± Ø§Ù„Ù„ÙˆØ¬Ùˆ
        self.logo_frame = ctk.CTkFrame(self.main_frame)
        self.logo_frame.pack(fill="x", padx=10, pady=10)
        
        # Ø¹Ù†ÙˆØ§Ù† Ù‚Ø³Ù… Ø§Ù„Ù„ÙˆØ¬Ùˆ
        self.logo_label = ctk.CTkLabel(self.logo_frame, text="Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø§Ø¯ÙŠ", font=ctk.CTkFont(size=16, weight="bold"))
        self.logo_label.pack(pady=10)
        
        # Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø­Ø§Ù„ÙŠ
        self.logo_preview_frame = ctk.CTkFrame(self.logo_frame, width=200, height=200)
        self.logo_preview_frame.pack(pady=10)
        
        self.logo_preview = ctk.CTkLabel(self.logo_preview_frame, text="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´Ø¹Ø§Ø±")
        self.logo_preview.pack(expand=True, fill="both")
        
        # Ø£Ø²Ø±Ø§Ø± ØªØ­Ù…ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„Ù„ÙˆØ¬Ùˆ
        self.logo_buttons_frame = ctk.CTkFrame(self.logo_frame)
        self.logo_buttons_frame.pack(pady=10)
        
        self.upload_logo_button = ctk.CTkButton(self.logo_buttons_frame, text="ØªØ­Ù…ÙŠÙ„ Ø´Ø¹Ø§Ø±", command=self._upload_logo)
        self.upload_logo_button.pack(side="left", padx=5)
        
        self.remove_logo_button = ctk.CTkButton(self.logo_buttons_frame, text="Ø­Ø°Ù Ø§Ù„Ø´Ø¹Ø§Ø±", command=self._remove_logo, fg_color="#E74A3B")
        self.remove_logo_button.pack(side="left", padx=5)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø·Ø§Ø± Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø¥Ù„ØºØ§Ø¡
        self.buttons_frame = ctk.CTkFrame(self.main_frame)
        self.buttons_frame.pack(fill="x", padx=10, pady=20)
        
        self.save_button = ctk.CTkButton(self.buttons_frame, text="Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª", command=self._save_settings)
        self.save_button.pack(side="right", padx=10)
        
        self.cancel_button = ctk.CTkButton(self.buttons_frame, text="Ø¥Ù„ØºØ§Ø¡", command=self.destroy, fg_color="#858796")
        self.cancel_button.pack(side="right", padx=10)
    
    def _load_current_settings(self):
        """ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©"""
        if self.settings:
            self.gym_name_entry.insert(0, self.settings.gym_name or "")
            if self.settings.address:
                self.address_entry.insert("1.0", self.settings.address)
            self.phone_entry.insert(0, self.settings.phone or "")
            self.email_entry.insert(0, self.settings.email or "")
            self.website_entry.insert(0, self.settings.website or "")
            
            # Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
            self._display_logo()
    
    def _display_logo(self):
        """Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø­Ø§Ù„ÙŠ"""
        if self.settings.has_logo and os.path.exists(self.settings.logo_path):
            try:
                # ÙØªØ­ ÙˆØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø©
                logo_img = Image.open(self.settings.logo_path)
                logo_img = logo_img.resize((180, 180), Image.LANCZOS)
                
                # ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ ØµÙŠØºØ© Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Tkinter
                self.logo_tk_img = ImageTk.PhotoImage(logo_img)
                
                # Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©
                self.logo_preview.configure(image=self.logo_tk_img, text="")
            except Exception as e:
                print(f"Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ: {e}")
                self.logo_preview.configure(text="Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø¹Ø§Ø±")
        else:
            self.logo_preview.configure(text="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´Ø¹Ø§Ø±", image=None)
    
    def _upload_logo(self):
        """ØªØ­Ù…ÙŠÙ„ Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯"""
        file_path = filedialog.askopenfilename(
            title="Ø§Ø®ØªØ± Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø§Ø¯ÙŠ",
            filetypes=[("ØµÙˆØ±", "*.png *.jpg *.jpeg *.gif *.bmp")]
        )
        
        if file_path:
            success = self.gym_settings_service.upload_logo(file_path)
            if success:
                messagebox.showinfo("ØªÙ…", "ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­")
                # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                self.settings = self.gym_settings_service.get_settings()
                self._display_logo()
            else:
                messagebox.showerror("Ø®Ø·Ø£", "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±")
    
    def _remove_logo(self):
        """Ø­Ø°Ù Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ"""
        if not self.settings.has_logo:
            messagebox.showinfo("ØªÙ†Ø¨ÙŠÙ‡", "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´Ø¹Ø§Ø± Ù„Ø­Ø°ÙÙ‡")
            return
        
        if messagebox.askyesno("ØªØ£ÙƒÙŠØ¯", "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØŸ"):
            success = self.gym_settings_service.remove_logo()
            if success:
                messagebox.showinfo("ØªÙ…", "ØªÙ… Ø­Ø°Ù Ø§Ù„Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­")
                # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù„ÙˆØ¬Ùˆ
                self.settings = self.gym_settings_service.get_settings()
                self._display_logo()
            else:
                messagebox.showerror("Ø®Ø·Ø£", "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø´Ø¹Ø§Ø±")
    
    def _save_settings(self):
        """Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"""
        # Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        gym_name = self.gym_name_entry.get()
        address = self.address_entry.get("1.0", "end-1c")
        phone = self.phone_entry.get()
        email = self.email_entry.get()
        website = self.website_entry.get()
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        if not gym_name:
            messagebox.showerror("Ø®Ø·Ø£", "ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ")
            return
        
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        self.gym_settings_service.update_settings(
            gym_name=gym_name,
            address=address,
            phone=phone,
            email=email,
            website=website
        )
        
        messagebox.showinfo("ØªÙ…", "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­")
        self.destroy()
```

#### 2.4 ØªÙƒØ§Ù…Ù„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù…

##### 2.4.1 Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

```python
# app/views/main_window.py
class MainWindow(ctk.CTk):
    def __init__(self, auth_controller, gym_settings_service):
        super().__init__()
        self.auth_controller = auth_controller
        self.gym_settings_service = gym_settings_service
        self.current_user = None
        self.settings = gym_settings_service.get_settings()
        
        # ... Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ...
        
    def show_main_window(self, user):
        self.current_user = user
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ÙØªØ±Ø© ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        self.header_frame = ctk.CTkFrame(self)
        self.header_frame.pack(fill="x", padx=10, pady=5)
        
        # Ø¹Ø±Ø¶ Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
        if self.settings.has_logo and os.path.exists(self.settings.logo_path):
            try:
                logo_img = Image.open(self.settings.logo_path)
                logo_img = logo_img.resize((40, 40), Image.LANCZOS)
                self.logo_tk_img = ImageTk.PhotoImage(logo_img)
                
                self.logo_label = ctk.CTkLabel(self.header_frame, image=self.logo_tk_img, text="")
                self.logo_label.pack(side="left", padx=10)
            except Exception as e:
                print(f"Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ: {e}")
        
        # Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ø¬ÙŠÙ…
        self.gym_name_label = ctk.CTkLabel(self.header_frame, text=self.settings.gym_name, font=ctk.CTkFont(size=16, weight="bold"))
        self.gym_name_label.pack(side="left", padx=10)
        
        # Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        period_text = "ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„" if user.time_period == "men" else "ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª" if user.time_period == "women" else "Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØªØ±Ø§Øª"
        self.user_label = ctk.CTkLabel(self.header_frame, text=f"Ù…Ø±Ø­Ø¨Ø§Ù‹ {user.name} | {period_text}")
        self.user_label.pack(side="right", padx=10)
        
        # ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ ...
```

##### 2.4.2 Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±

```python
# app/services/invoice_service.py
class InvoiceService:
    def __init__(self, db_service, gym_settings_service):
        self.db_service = db_service
        self.gym_settings_service = gym_settings_service
    
    def generate_invoice(self, payment_id):
        """Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© PDF"""
        payment = self.db_service.get_payment_by_id(payment_id)
        if not payment:
            return None
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        gym_settings = self.gym_settings_service.get_settings()
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF
        buffer = BytesIO()
        doc = SimpleDocTemplate(buffer, pagesize=A4, rightMargin=30, leftMargin=30, topMargin=30, bottomMargin=30)
        story = []
        
        # Ø¥Ø¶Ø§ÙØ© Ø±Ø£Ø³ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        self._add_invoice_header(story, gym_settings, payment)
        
        # ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ...
        
        return buffer
    
    def _add_invoice_header(self, story, gym_settings, payment):
        """Ø¥Ø¶Ø§ÙØ© Ø±Ø£Ø³ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ…"""
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
        if gym_settings.has_logo and os.path.exists(gym_settings.logo_path):
            logo_img = Image(gym_settings.logo_path, width=100, height=100)
            story.append(logo_img)
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ø³Ù… Ø§Ù„Ø¬ÙŠÙ…
        styles = getSampleStyleSheet()
        gym_name_style = ParagraphStyle(
            'GymName',
            parent=styles['Title'],
            fontSize=20,
            alignment=1,  # ÙˆØ³Ø·
            spaceAfter=10
        )
        story.append(Paragraph(gym_settings.gym_name, gym_name_style))
        
        # Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
        contact_info = []
        if gym_settings.address:
            contact_info.append(gym_settings.address)
        if gym_settings.phone:
            contact_info.append(f"Ù‡Ø§ØªÙ: {gym_settings.phone}")
        if gym_settings.email:
            contact_info.append(f"Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: {gym_settings.email}")
        
        contact_style = ParagraphStyle(
            'ContactInfo',
            parent=styles['Normal'],
            fontSize=10,
            alignment=1,  # ÙˆØ³Ø·
            spaceAfter=20
        )
        
        for info in contact_info:
            story.append(Paragraph(info, contact_style))
        
        # Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©
        invoice_title_style = ParagraphStyle(
            'InvoiceTitle',
            parent=styles['Heading1'],
            fontSize=16,
            alignment=1,  # ÙˆØ³Ø·
            spaceAfter=20
        )
        story.append(Paragraph("ÙØ§ØªÙˆØ±Ø© Ø¯ÙØ¹", invoice_title_style))
        
        # ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø±Ø£Ø³ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ...
```

##### 2.4.3 Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©

```python
# app/services/membership_card_service.py
class MembershipCardService:
    def __init__(self, db_service, gym_settings_service):
        self.db_service = db_service
        self.gym_settings_service = gym_settings_service
    
    def generate_membership_card(self, member_id):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø¹Ø¶ÙˆÙŠØ©"""
        member = self.db_service.get_member_by_id(member_id)
        if not member:
            return None
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        gym_settings = self.gym_settings_service.get_settings()
        
        # Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        card_img = Image.new('RGB', (600, 350), color='white')
        draw = ImageDraw.Draw(card_img)
        
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
        if gym_settings.has_logo and os.path.exists(gym_settings.logo_path):
            try:
                logo_img = Image.open(gym_settings.logo_path)
                logo_img = logo_img.resize((80, 80), Image.LANCZOS)
                card_img.paste(logo_img, (20, 20))
            except Exception as e:
                print(f"Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„ÙˆØ¬Ùˆ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø©: {e}")
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ø³Ù… Ø§Ù„Ø¬ÙŠÙ… ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
        font_path = os.path.join("assets", "fonts", "Cairo-Bold.ttf")
        title_font = ImageFont.truetype(font_path, 24)
        info_font = ImageFont.truetype(font_path, 14)
        
        draw.text((120, 30), gym_settings.gym_name, font=title_font, fill='#000000')
        
        y_pos = 60
        if gym_settings.address:
            draw.text((120, y_pos), gym_settings.address, font=info_font, fill='#444444')
            y_pos += 20
        if gym_settings.phone:
            draw.text((120, y_pos), f"Ù‡Ø§ØªÙ: {gym_settings.phone}", font=info_font, fill='#444444')
            y_pos += 20
        
        # ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ...
        
        return card_img
```

##### 2.4.4 Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

```python
# app/services/report_service.py
class ReportService:
    def __init__(self, db_service, gym_settings_service):
        self.db_service = db_service
        self.gym_settings_service = gym_settings_service
    
    def generate_members_report(self, filters=None):
        """Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡"""
        members = self.db_service.get_members(filters)
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        gym_settings = self.gym_settings_service.get_settings()
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF
        buffer = BytesIO()
        doc = SimpleDocTemplate(buffer, pagesize=A4, rightMargin=30, leftMargin=30, topMargin=30, bottomMargin=30)
        story = []
        
        # Ø¥Ø¶Ø§ÙØ© Ø±Ø£Ø³ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        self._add_report_header(story, gym_settings, "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡")
        
        # ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ...
        
        return buffer
    
    def _add_report_header(self, story, gym_settings, report_title):
        """Ø¥Ø¶Ø§ÙØ© Ø±Ø£Ø³ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ…"""
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
        if gym_settings.has_logo and os.path.exists(gym_settings.logo_path):
            logo_img = Image(gym_settings.logo_path, width=100, height=100)
            story.append(logo_img)
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ø³Ù… Ø§Ù„Ø¬ÙŠÙ…
        styles = getSampleStyleSheet()
        gym_name_style = ParagraphStyle(
            'GymName',
            parent=styles['Title'],
            fontSize=20,
            alignment=1,  # ÙˆØ³Ø·
            spaceAfter=10
        )
        story.append(Paragraph(gym_settings.gym_name, gym_name_style))
        
        # Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        report_title_style = ParagraphStyle(
            'ReportTitle',
            parent=styles['Heading1'],
            fontSize=16,
            alignment=1,  # ÙˆØ³Ø·
            spaceAfter=20
        )
        story.append(Paragraph(report_title, report_title_style))
        
        # Ø¥Ø¶Ø§ÙØ© ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        date_style = ParagraphStyle(
            'ReportDate',
            parent=styles['Normal'],
            fontSize=10,
            alignment=1,  # ÙˆØ³Ø·
            spaceAfter=20
        )
        report_date = datetime.now().strftime("%Y-%m-%d %H:%M")
        story.append(Paragraph(f"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±: {report_date}", date_style))
        
        # ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø±Ø£Ø³ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ...
```

#### 2.5 Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

```python
# app/views/settings/settings_menu.py
class SettingsMenu(ctk.CTkFrame):
    def __init__(self, parent, controllers):
        super().__init__(parent)
        self.parent = parent
        self.controllers = controllers
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self._create_widgets()
    
    def _create_widgets(self):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"""
        # Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù…
        self.title_label = ctk.CTkLabel(self, text="Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…", font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=20)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        self.buttons_frame = ctk.CTkFrame(self)
        self.buttons_frame.pack(fill="both", expand=True, padx=20, pady=10)
        
        # Ø²Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…
        self.gym_settings_button = ctk.CTkButton(
            self.buttons_frame,
            text="Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ",
            command=self._open_gym_settings,
            height=50,
            font=ctk.CTkFont(size=14)
        )
        self.gym_settings_button.pack(fill="x", pady=10)
        
        # Ø²Ø± Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        self.users_button = ctk.CTkButton(
            self.buttons_frame,
            text="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",
            command=self._open_users_settings,
            height=50,
            font=ctk.CTkFont(size=14)
        )
        self.users_button.pack(fill="x", pady=10)
        
        # ... Ø£Ø²Ø±Ø§Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø®Ø±Ù‰ ...
    
    def _open_gym_settings(self):
        """ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…"""
        from app.views.settings.gym_settings_window import GymSettingsWindow
        gym_settings_window = GymSettingsWindow(self.parent, self.controllers["gym_settings_service"])
        gym_settings_window.grab_set()  # Ø¬Ø¹Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù…Ø±ÙƒØ² Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…
    
    def _open_users_settings(self):
        """ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"""
        # ... ÙƒÙˆØ¯ ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ...
```

#### 2.6 Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…

ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ `GymSettings` Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù„ÙˆØ¬Ùˆ ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„.

2. **Ø®Ø¯Ù…Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…**: ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© `GymSettingsService` Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…ØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØªØ­Ø¯ÙŠØ«Ù‡Ø§ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙŠÙ….

3. **ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ…**: ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§ÙØ°Ø© `GymSettingsWindow` Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ø¨Ø³Ù‡ÙˆÙ„Ø©.

4. **ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù…**: ØªÙ… Ø¯Ù…Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ:
   - Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

5. **Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª**: ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙŠÙ… Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ù†Ø¸Ø§Ù….

Ù‡Ø°Ø§ Ø§Ù„ØªÙ†ÙÙŠØ° ÙŠØ¶Ù…Ù† Ø£Ù† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ÙŠÙ… ØªØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ Ù…ØªØ³Ù‚ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ù…Ù…Ø§ ÙŠØ¹Ø²Ø² Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ù„Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ÙˆÙŠÙˆÙØ± ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªÙƒØ§Ù…Ù„Ø©.
        attendance = Attendance(
            member_id=member_id,
            check_in_time=datetime.now(),
            check_in_by=self.current_user.id,
            time_period=self.current_user.time_period
        )
        
        self.db_service.add_attendance(attendance)
        return {"success": True, "attendance": attendance}
```

#### 1.8 ØªØ¹Ø¯ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

```python
# app/controllers/report_controller.py
class ReportController:
    def __init__(self, db_service, current_user):
        self.db_service = db_service
        self.current_user = current_user
    
    def generate_financial_report(self, start_date, end_date, detail_level="summary"):
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if not self.current_user.is_admin and not self.current_user.role == "accountant":
            return {"success": False, "error": "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©"}
        
        # ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„ØªÙ‚Ø±ÙŠØ±
        time_period = self.current_user.time_period
        
        # Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
        if time_period == "men":
            # ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø§Ù„ÙŠØ© Ù„ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„ ÙÙ‚Ø·
            income = self.db_service.get_income_by_period(start_date, end_date, "men")
            expenses = self.db_service.get_expenses_by_period(start_date, end_date, "men")
        elif time_period == "women":
            # ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø§Ù„ÙŠØ© Ù„ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª ÙÙ‚Ø·
            income = self.db_service.get_income_by_period(start_date, end_date, "women")
            expenses = self.db_service.get_expenses_by_period(start_date, end_date, "women")
        else:
            # ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø§Ù„ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØªØ±Ø§Øª (Ù„Ù„Ù…Ø¯ÙŠØ±)
            income = self.db_service.get_income(start_date, end_date)
            expenses = self.db_service.get_expenses(start_date, end_date)
        
        # Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª
        total_income = sum(item.amount for item in income)
        total_expenses = sum(item.amount for item in expenses)
        net_profit = total_income - total_expenses
        
        # Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        report = {
            "success": True,
            "start_date": start_date,
            "end_date": end_date,
            "time_period": time_period,
            "total_income": total_income,
            "total_expenses": total_expenses,
            "net_profit": net_profit
        }
        
        # Ø¥Ø¶Ø§ÙØ© ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØµÙŠÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
        if detail_level == "detailed":
            report["income_by_category"] = self._group_by_category(income)
            report["expenses_by_category"] = self._group_by_category(expenses)
        
        return report
    
    def generate_member_report(self, start_date, end_date):
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if not self.current_user.is_admin and not self.current_user.role in ["manager", "receptionist"]:
            return {"success": False, "error": "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡"}
        
        # ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„ØªÙ‚Ø±ÙŠØ±
        time_period = self.current_user.time_period
        
        # Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
        if time_period == "men":
            # ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù„ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„ ÙÙ‚Ø·
            members = self.db_service.get_members_by_gender("male")
            new_members = self.db_service.get_new_members_by_period(start_date, end_date, "male")
            active_subscriptions = self.db_service.get_active_subscriptions_by_gender("male")
        elif time_period == "women":
            # ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù„ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª ÙÙ‚Ø·
            members = self.db_service.get_members_by_gender("female")
            new_members = self.db_service.get_new_members_by_period(start_date, end_date, "female")
            active_subscriptions = self.db_service.get_active_subscriptions_by_gender("female")
        else:
            # ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØªØ±Ø§Øª (Ù„Ù„Ù…Ø¯ÙŠØ±)
            members = self.db_service.get_all_members()
            new_members = self.db_service.get_new_members(start_date, end_date)
            active_subscriptions = self.db_service.get_active_subscriptions()
        
        # Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        report = {
            "success": True,
            "start_date": start_date,
            "end_date": end_date,
            "time_period": time_period,
            "total_members": len(members),
            "active_members": len([m for m in members if m.status == "active"]),
            "new_members": len(new_members),
            "active_subscriptions": len(active_subscriptions)
        }
        
        return report
```

#### 1.9 ØªØ¹Ø¯ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†

```python
# app/controllers/inventory_controller.py
class InventoryController:
    def __init__(self, db_service, current_user):
        self.db_service = db_service
        self.current_user = current_user
    
    def sell_product(self, product_id, quantity, member_id=None):
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if not self.current_user.role in ["admin", "sales", "receptionist"]:
            return {"success": False, "error": "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹"}
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¹Ø¶Ùˆ Ø¥Ø°Ø§ ØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡
        if member_id:
            member = self.db_service.get_member_by_id(member_id)
            if not member or not self.current_user.has_time_period_access(member):
                return {"success": False, "error": "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ"}
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆÙØ± Ø§Ù„Ù…Ù†ØªØ¬
        product = self.db_service.get_product_by_id(product_id)
        if not product or product.quantity < quantity:
            return {"success": False, "error": "Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø¨Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"}
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹
        sale = Sale(
            product_id=product_id,
            quantity=quantity,
            price=product.price,
            total=product.price * quantity,
            member_id=member_id,
            sold_by=self.current_user.id,
            sale_date=datetime.now(),
            time_period=self.current_user.time_period
        )
        
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        product.quantity -= quantity
        
        # Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        self.db_service.add_sale(sale)
        self.db_service.update_product(product)
        
        return {"success": True, "sale": sale}
```

#### 1.10 ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡

```python
# app/views/member_form_view.py
class MemberFormWindow(ctk.CTkToplevel):
    def __init__(self, parent, member_controller, member=None):
        super().__init__(parent)
        self.member_controller = member_controller
        self.member = member
        self.is_edit_mode = member is not None
        
        self.title("ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¶Ùˆ" if self.is_edit_mode else "Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯")
        self.geometry("600x700")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.title_label = ctk.CTkLabel(self, text=self.title(), font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=10)
        
        # Ø¥Ø·Ø§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        self.form_frame = ctk.CTkScrollableFrame(self)
        self.form_frame.pack(fill="both", expand=True, padx=20, pady=10)
        
        # Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
        self.personal_info_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©", font=ctk.CTkFont(weight="bold"))
        self.personal_info_label.pack(anchor="w", pady=(10, 5))
        
        # Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„
        self.first_name_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„:")
        self.first_name_label.pack(anchor="w")
        self.first_name_entry = ctk.CTkEntry(self.form_frame, width=250)
        self.first_name_entry.pack(anchor="w", pady=(0, 10))
        
        # Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±
        self.last_name_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±:")
        self.last_name_label.pack(anchor="w")
        self.last_name_entry = ctk.CTkEntry(self.form_frame, width=250)
        self.last_name_entry.pack(anchor="w", pady=(0, 10))
        
        # Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
        self.phone_label = ctk.CTkLabel(self.form_frame, text="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:")
        self.phone_label.pack(anchor="w")
        self.phone_entry = ctk.CTkEntry(self.form_frame, width=250)
        self.phone_entry.pack(anchor="w", pady=(0, 10))
        
        # Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
        self.email_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:")
        self.email_label.pack(anchor="w")
        self.email_entry = ctk.CTkEntry(self.form_frame, width=250)
        self.email_entry.pack(anchor="w", pady=(0, 10))
        
        # ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
        self.birth_date_label = ctk.CTkLabel(self.form_frame, text="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯:")
        self.birth_date_label.pack(anchor="w")
        
        self.birth_date_frame = ctk.CTkFrame(self.form_frame)
        self.birth_date_frame.pack(anchor="w", pady=(0, 10))
        
        # Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø´Ù‡Ø± ÙˆØ§Ù„Ø³Ù†Ø©
        self.birth_day = ctk.CTkComboBox(self.birth_date_frame, values=[str(i) for i in range(1, 32)])
        self.birth_day.pack(side="left", padx=5)
        
        self.birth_month = ctk.CTkComboBox(self.birth_date_frame, values=[str(i) for i in range(1, 13)])
        self.birth_month.pack(side="left", padx=5)
        
        self.birth_year = ctk.CTkComboBox(self.birth_date_frame, values=[str(i) for i in range(1950, 2020)])
        self.birth_year.pack(side="left", padx=5)
        
        # Ø§Ù„Ø¬Ù†Ø³
        self.gender_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø¬Ù†Ø³:")
        self.gender_label.pack(anchor="w")
        
        self.gender_var = ctk.StringVar(value="male")
        self.gender_frame = ctk.CTkFrame(self.form_frame)
        self.gender_frame.pack(anchor="w", pady=(0, 10))
        
        self.gender_male = ctk.CTkRadioButton(self.gender_frame, text="Ø°ÙƒØ±", variable=self.gender_var, value="male", command=self.update_time_period)
        self.gender_male.pack(side="left", padx=10)
        
        self.gender_female = ctk.CTkRadioButton(self.gender_frame, text="Ø£Ù†Ø«Ù‰", variable=self.gender_var, value="female", command=self.update_time_period)
        self.gender_female.pack(side="left", padx=10)
        
        # Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© (ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³)
        self.time_period_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©:")
        self.time_period_label.pack(anchor="w")
        
        self.time_period_var = ctk.StringVar(value="men")
        self.time_period_frame = ctk.CTkFrame(self.form_frame)
        self.time_period_frame.pack(anchor="w", pady=(0, 10))
        
        self.time_period_men = ctk.CTkRadioButton(self.time_period_frame, text="ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„", variable=self.time_period_var, value="men")
        self.time_period_men.pack(side="left", padx=10)
        
        self.time_period_women = ctk.CTkRadioButton(self.time_period_frame, text="ÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§Øª", variable=self.time_period_var, value="women")
        self.time_period_women.pack(side="left", padx=10)
        
        # Ù…Ù„Ø§Ø­Ø¸Ø© Ø­ÙˆÙ„ Ø§Ù„ÙØªØ±Ø§Øª
        self.note_label = ctk.CTkLabel(self.form_frame, text="Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØªØ±Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³", text_color="gray70")
        self.note_label.pack(anchor="w", pady=(0, 10))
        
        # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø¥Ù„ØºØ§Ø¡
        self.buttons_frame = ctk.CTkFrame(self)
        self.buttons_frame.pack(fill="x", padx=20, pady=10)
        
        self.cancel_button = ctk.CTkButton(self.buttons_frame, text="Ø¥Ù„ØºØ§Ø¡", command=self.destroy)
        self.cancel_button.pack(side="left", padx=5)
        
        self.save_button = ctk.CTkButton(self.buttons_frame, text="Ø­ÙØ¸", command=self.save_member)
        self.save_button.pack(side="right", padx=5)
        
        # ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
        if self.is_edit_mode:
            self.load_member_data()
        
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³ Ø§Ù„Ù…Ø­Ø¯Ø¯
        self.update_time_period()
    
    def update_time_period(self, event=None):
        """ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³ Ø§Ù„Ù…Ø­Ø¯Ø¯"""
        gender = self.gender_var.get()
        if gender == "male":
            self.time_period_var.set("men")
            self.time_period_men.configure(state="normal")
            self.time_period_women.configure(state="disabled")
        else:  # female
            self.time_period_var.set("women")
            self.time_period_men.configure(state="disabled")
            self.time_period_women.configure(state="normal")
    
    def load_member_data(self):
        """ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„"""
        if not self.member:
            return
        
        self.first_name_entry.insert(0, self.member.first_name)
        self.last_name_entry.insert(0, self.member.last_name)
        self.phone_entry.insert(0, self.member.phone)
        self.email_entry.insert(0, self.member.email if self.member.email else "")
        
        # ØªØ­Ù…ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
        if self.member.birth_date:
            self.birth_day.set(str(self.member.birth_date.day))
            self.birth_month.set(str(self.member.birth_date.month))
            self.birth_year.set(str(self.member.birth_date.year))
        
        # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©
        self.gender_var.set(self.member.gender)
        self.time_period_var.set(self.member.preferred_time_period)
        self.update_time_period()
    
    def save_member(self):
        """Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ"""
        # Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        member_data = {
            "first_name": self.first_name_entry.get(),
            "last_name": self.last_name_entry.get(),
            "phone": self.phone_entry.get(),
            "email": self.email_entry.get(),
            "birth_date": datetime.date(
                int(self.birth_year.get()),
                int(self.birth_month.get()),
                int(self.birth_day.get())
            ),
            "gender": self.gender_var.get(),
            "preferred_time_period": self.time_period_var.get()
        }
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        if not member_data["first_name"] or not member_data["last_name"] or not member_data["phone"]:
            messagebox.showerror("Ø®Ø·Ø£", "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ©")
            return
        
        # Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        if self.is_edit_mode:
            result = self.member_controller.update_member(self.member.id, member_data)
        else:
            result = self.member_controller.create_member(member_data)
        
        if result["success"]:
            messagebox.showinfo("Ù†Ø¬Ø§Ø­", "ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø¨Ù†Ø¬Ø§Ø­")
            self.destroy()
        else:
            messagebox.showerror("Ø®Ø·Ø£", result["error"])
```

#### 1.11 Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø§Ù„ÙØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù†Ø³ÙŠÙ†

ÙŠØªØ¶Ù…Ù† ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø§Ù„ÙØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù†Ø³ÙŠÙ† ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ¹Ø±ÙŠÙØ§Øª**:
   - ØªØ¹Ø±ÙŠÙ ÙØ¦Ø© `TimePeriod` Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ø²Ù…Ù†ÙŠØ© (Ø±Ø¬Ø§Ù„ØŒ Ø³ÙŠØ¯Ø§ØªØŒ Ù…Ø´ØªØ±Ùƒ).
   - ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙˆØµÙˆÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙØªØ±Ø© ÙˆØ§Ù„Ø¬Ù†Ø³.

2. **ØªØ¹Ø¯ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©**:
   - ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ØªØ´Ù…Ù„ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©.
   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.
   - ØªØ®Ø²ÙŠÙ† Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….

3. **ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**:
   - Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØªØ±Ø© ÙÙŠ Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.
   - Ø¹Ø±Ø¶ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚.
   - ØªØ¹Ø¯ÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³.

4. **ØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ…**:
   - ØªØ¹Ø¯ÙŠÙ„ Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙˆØµÙˆÙ„ Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
   - ØªØµÙÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù….
   - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© (Ø§Ù„Ø­Ø¶ÙˆØ±ØŒ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ø¥Ù„Ø®).

5. **ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±**:
   - ØªØµÙÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù….
   - Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ù†ÙØµÙ„Ø© Ù„ÙƒÙ„ ÙØªØ±Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø°ÙˆÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©.

Ù‡Ø°Ø§ Ø§Ù„ØªÙ†ÙÙŠØ° ÙŠØ¶Ù…Ù† Ø§Ù„ÙØµÙ„ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª ÙØªØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ù„ ÙˆÙØªØ±Ø© Ø§Ù„Ø³ÙŠØ¯Ø§ØªØŒ Ù…Ø¹ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…Ø¯Ø±Ø§Ø¡ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©.

### 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

```python
# app/controllers/auth_controller.py
class AuthController:
    def __init__(self, db_service, security_service):
        self.db_service = db_service
        self.security_service = security_service
    
    def login(self, username, password):
        user = self.db_service.get_user_by_username(username)
        if user and self.security_service.verify_password(password, user.password_hash):
            return user
        return None
    
    def get_current_user(self):
        # Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ù† Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
        return self.db_service.get_user_by_id(self.security_service.get_current_user_id())

# app/views/auth_view.py
class LoginWindow(ctk.CTkToplevel):
    def __init__(self, parent, auth_controller):
        super().__init__(parent)
        self.auth_controller = auth_controller
        self.title("ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„")
        self.geometry("400x300")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.username_label = ctk.CTkLabel(self, text="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:")
        self.username_label.pack(pady=10)
        
        self.username_entry = ctk.CTkEntry(self, width=200)
        self.username_entry.pack(pady=5)
        
        self.password_label = ctk.CTkLabel(self, text="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:")
        self.password_label.pack(pady=10)
        
        self.password_entry = ctk.CTkEntry(self, width=200, show="*")
        self.password_entry.pack(pady=5)
        
        self.login_button = ctk.CTkButton(self, text="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„", command=self.login)
        self.login_button.pack(pady=20)
        
        self.error_label = ctk.CTkLabel(self, text="", text_color="red")
        self.error_label.pack(pady=10)
    
    def login(self):
        username = self.username_entry.get()
        password = self.password_entry.get()
        
        user = self.auth_controller.login(username, password)
        if user:
            self.destroy()  # Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            self.master.show_main_window(user)  # Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        else:
            self.error_label.configure(text="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©")
```

### 2. Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡

```python
# app/views/members_view.py
class MembersListFrame(ctk.CTkFrame):
    def __init__(self, parent, member_controller):
        super().__init__(parent)
        self.member_controller = member_controller
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.title_label = ctk.CTkLabel(self, text="Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡", font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=10)
        
        # Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø«
        self.search_frame = ctk.CTkFrame(self)
        self.search_frame.pack(fill="x", padx=10, pady=10)
        
        self.search_label = ctk.CTkLabel(self.search_frame, text="Ø¨Ø­Ø«:")
        self.search_label.pack(side="right", padx=5)
        
        self.search_entry = ctk.CTkEntry(self.search_frame, width=200)
        self.search_entry.pack(side="right", padx=5)
        self.search_entry.bind("<KeyRelease>", self.search_members)
        
        self.add_button = ctk.CTkButton(self.search_frame, text="Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ", command=self.add_member)
        self.add_button.pack(side="left", padx=5)
        
        # Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        self.tree_frame = ctk.CTkFrame(self)
        self.tree_frame.pack(fill="both", expand=True, padx=10, pady=10)
        
        columns = ("member_code", "name", "phone", "status", "join_date")
        self.tree = ttk.Treeview(self.tree_frame, columns=columns, show="headings")
        
        # ØªØ¹ÙŠÙŠÙ† Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        self.tree.heading("member_code", text="ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø¶Ùˆ")
        self.tree.heading("name", text="Ø§Ù„Ø§Ø³Ù…")
        self.tree.heading("phone", text="Ø§Ù„Ù‡Ø§ØªÙ")
        self.tree.heading("status", text="Ø§Ù„Ø­Ø§Ù„Ø©")
        self.tree.heading("join_date", text="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…")
        
        # ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        self.tree.column("member_code", width=100)
        self.tree.column("name", width=200)
        self.tree.column("phone", width=150)
        self.tree.column("status", width=100)
        self.tree.column("join_date", width=150)
        
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ±
        scrollbar = ttk.Scrollbar(self.tree_frame, orient="vertical", command=self.tree.yview)
        self.tree.configure(yscrollcommand=scrollbar.set)
        scrollbar.pack(side="right", fill="y")
        self.tree.pack(side="left", fill="both", expand=True)
        
        # Ø±Ø¨Ø· Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ Ù„Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø¶Ùˆ
        self.tree.bind("<Double-1>", self.view_member)
        
        # ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        self.load_members()
    
    def load_members(self):
        # Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        for item in self.tree.get_children():
            self.tree.delete(item)
        
        # ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù…Ù† ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…
        members = self.member_controller.get_all_members()
        for member in members:
            self.tree.insert("", "end", values=(
                member.member_code,
                f"{member.first_name} {member.last_name}",
                member.phone,
                member.status,
                member.join_date.strftime("%Y-%m-%d")
            ))
    
    def search_members(self, event):
        search_text = self.search_entry.get()
        # Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        for item in self.tree.get_children():
            self.tree.delete(item)
        
        # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        members = self.member_controller.search_members(search_text)
        for member in members:
            self.tree.insert("", "end", values=(
                member.member_code,
                f"{member.first_name} {member.last_name}",
                member.phone,
                member.status,
                member.join_date.strftime("%Y-%m-%d")
            ))
    
    def add_member(self):
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯
        add_window = MemberFormWindow(self.winfo_toplevel(), self.member_controller)
        add_window.wait_window()  # Ø§Ù†ØªØ¸Ø§Ø± Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
        self.load_members()  # Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    
    def view_member(self, event):
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯
        selected_item = self.tree.selection()[0]
        member_code = self.tree.item(selected_item, "values")[0]
        
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø¶Ùˆ
        member = self.member_controller.get_member_by_code(member_code)
        view_window = MemberDetailsWindow(self.winfo_toplevel(), self.member_controller, member)
        view_window.wait_window()  # Ø§Ù†ØªØ¸Ø§Ø± Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
        self.load_members()  # Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```

### 3. Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª

```python
# app/controllers/subscription_controller.py
class SubscriptionController:
    def __init__(self, db_service, subscription_service):
        self.db_service = db_service
        self.subscription_service = subscription_service
    
    def get_member_subscriptions(self, member_id):
        return self.db_service.get_subscriptions_by_member(member_id)
    
    def create_subscription(self, subscription_data):
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø´ØªØ±Ø§Ùƒ Ø¬Ø¯ÙŠØ¯
        try:
            # Ø­Ø³Ø§Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ©
            plan = self.db_service.get_plan_by_id(subscription_data['plan_id'])
            start_date = subscription_data.get('start_date', datetime.date.today())
            end_date = self.subscription_service.calculate_end_date(start_date, plan.duration_days)
            
            # Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
            price = plan.price
            discount = subscription_data.get('discount', 0)
            final_price = price - discount
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
            subscription = Subscription(
                member_id=subscription_data['member_id'],
                plan_id=subscription_data['plan_id'],
                start_date=start_date,
                end_date=end_date,
                status='active',
                total_sessions=plan.sessions_count,
                remaining_sessions=plan.sessions_count,
                price=price,
                discount=discount,
                final_price=final_price,
                paid_amount=subscription_data.get('paid_amount', 0),
                payment_status='unpaid' if final_price > subscription_data.get('paid_amount', 0) else 'paid'
            )
            
            # Ø­ÙØ¸ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            self.db_service.add_subscription(subscription)
            
            # Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ
            if subscription_data.get('create_invoice', True):
                self.create_subscription_invoice(subscription)
            
            return {'success': True, 'subscription': subscription}
        except Exception as e:
            return {'success': False, 'error': str(e)}

# app/views/subscription_view.py
class SubscriptionFormWindow(ctk.CTkToplevel):
    def __init__(self, parent, subscription_controller, member=None):
        super().__init__(parent)
        self.subscription_controller = subscription_controller
        self.member = member
        
        self.title("Ø¥Ø¶Ø§ÙØ© Ø§Ø´ØªØ±Ø§Ùƒ Ø¬Ø¯ÙŠØ¯")
        self.geometry("600x500")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.title_label = ctk.CTkLabel(self, text="Ø¥Ø¶Ø§ÙØ© Ø§Ø´ØªØ±Ø§Ùƒ Ø¬Ø¯ÙŠØ¯", font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=10)
        
        # Ø¥Ø·Ø§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        self.form_frame = ctk.CTkFrame(self)
        self.form_frame.pack(fill="both", expand=True, padx=20, pady=10)
        
        # Ø§Ù„Ø¹Ø¶Ùˆ
        self.member_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø¹Ø¶Ùˆ:")
        self.member_label.grid(row=0, column=0, padx=10, pady=10, sticky="e")
        
        if member:
            self.member_value = ctk.CTkLabel(self.form_frame, text=f"{member.first_name} {member.last_name}")
            self.member_value.grid(row=0, column=1, padx=10, pady=10, sticky="w")
        else:
            self.member_button = ctk.CTkButton(self.form_frame, text="Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ", command=self.select_member)
            self.member_button.grid(row=0, column=1, padx=10, pady=10, sticky="w")
            self.selected_member = None
        
        # Ø®Ø·Ø© Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
        self.plan_label = ctk.CTkLabel(self.form_frame, text="Ø®Ø·Ø© Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©:")
        self.plan_label.grid(row=1, column=0, padx=10, pady=10, sticky="e")
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø®Ø·Ø· Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©
        self.plans = self.subscription_controller.db_service.get_all_plans()
        plan_names = [plan.name for plan in self.plans]
        
        self.plan_combobox = ctk.CTkComboBox(self.form_frame, values=plan_names, width=200)
        self.plan_combobox.grid(row=1, column=1, padx=10, pady=10, sticky="w")
        self.plan_combobox.bind("<<ComboboxSelected>>", self.update_price)
        
        # ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        self.start_date_label = ctk.CTkLabel(self.form_frame, text="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©:")
        self.start_date_label.grid(row=2, column=0, padx=10, pady=10, sticky="e")
        
        self.start_date_frame = ctk.CTkFrame(self.form_frame)
        self.start_date_frame.grid(row=2, column=1, padx=10, pady=10, sticky="w")
        
        today = datetime.date.today()
        
        self.start_day = ctk.CTkComboBox(self.start_date_frame, values=[str(i) for i in range(1, 32)], width=60)
        self.start_day.set(str(today.day))
        self.start_day.pack(side="right", padx=2)
        
        self.start_month = ctk.CTkComboBox(self.start_date_frame, values=[str(i) for i in range(1, 13)], width=60)
        self.start_month.set(str(today.month))
        self.start_month.pack(side="right", padx=2)
        
        self.start_year = ctk.CTkComboBox(self.start_date_frame, values=[str(i) for i in range(today.year - 5, today.year + 6)], width=80)
        self.start_year.set(str(today.year))
        self.start_year.pack(side="right", padx=2)
        
        # Ø§Ù„Ø³Ø¹Ø±
        self.price_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø³Ø¹Ø±:")
        self.price_label.grid(row=3, column=0, padx=10, pady=10, sticky="e")
        
        self.price_value = ctk.CTkLabel(self.form_frame, text="0")
        self.price_value.grid(row=3, column=1, padx=10, pady=10, sticky="w")
        
        # Ø§Ù„Ø®ØµÙ…
        self.discount_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø®ØµÙ…:")
        self.discount_label.grid(row=4, column=0, padx=10, pady=10, sticky="e")
        
        self.discount_entry = ctk.CTkEntry(self.form_frame, width=100)
        self.discount_entry.insert(0, "0")
        self.discount_entry.grid(row=4, column=1, padx=10, pady=10, sticky="w")
        self.discount_entry.bind("<KeyRelease>", self.update_final_price)
        
        # Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
        self.final_price_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:")
        self.final_price_label.grid(row=5, column=0, padx=10, pady=10, sticky="e")
        
        self.final_price_value = ctk.CTkLabel(self.form_frame, text="0")
        self.final_price_value.grid(row=5, column=1, padx=10, pady=10, sticky="w")
        
        # Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹
        self.paid_amount_label = ctk.CTkLabel(self.form_frame, text="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹:")
        self.paid_amount_label.grid(row=6, column=0, padx=10, pady=10, sticky="e")
        
        self.paid_amount_entry = ctk.CTkEntry(self.form_frame, width=100)
        self.paid_amount_entry.insert(0, "0")
        self.paid_amount_entry.grid(row=6, column=1, padx=10, pady=10, sticky="w")
        
        # Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©
        self.create_invoice_var = ctk.BooleanVar(value=True)
        self.create_invoice_checkbox = ctk.CTkCheckBox(self.form_frame, text="Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©", variable=self.create_invoice_var)
        self.create_invoice_checkbox.grid(row=7, column=1, padx=10, pady=10, sticky="w")
        
        # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
        self.buttons_frame = ctk.CTkFrame(self)
        self.buttons_frame.pack(fill="x", padx=20, pady=10)
        
        self.cancel_button = ctk.CTkButton(self.buttons_frame, text="Ø¥Ù„ØºØ§Ø¡", command=self.destroy)
        self.cancel_button.pack(side="right", padx=10)
        
        self.save_button = ctk.CTkButton(self.buttons_frame, text="Ø­ÙØ¸", command=self.save_subscription)
        self.save_button.pack(side="right", padx=10)
        
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø·Ø©
        if self.plans:
            self.plan_combobox.set(self.plans[0].name)
            self.update_price(None)
    
    def select_member(self):
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ
        select_window = MemberSelectorWindow(self, self.subscription_controller.db_service)
        self.wait_window(select_window)
        
        if hasattr(select_window, 'selected_member') and select_window.selected_member:
            self.selected_member = select_window.selected_member
            self.member_button.configure(text=f"{self.selected_member.first_name} {self.selected_member.last_name}")
    
    def update_price(self, event):
        plan_name = self.plan_combobox.get()
        for plan in self.plans:
            if plan.name == plan_name:
                self.price_value.configure(text=str(plan.price))
                self.update_final_price(None)
                break
    
    def update_final_price(self, event):
        try:
            price = float(self.price_value.cget("text"))
            discount = float(self.discount_entry.get() or 0)
            final_price = price - discount
            if final_price < 0:
                final_price = 0
            self.final_price_value.configure(text=str(final_price))
        except ValueError:
            self.final_price_value.configure(text="Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù‚ÙŠÙ…")
    
    def save_subscription(self):
        try:
            # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ
            member_id = self.member.id if self.member else (self.selected_member.id if self.selected_member else None)
            if not member_id:
                messagebox.showerror("Ø®Ø·Ø£", "ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ")
                return
            
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø®Ø·Ø© Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
            plan_name = self.plan_combobox.get()
            plan_id = None
            for plan in self.plans:
                if plan.name == plan_name:
                    plan_id = plan.id
                    break
            
            if not plan_id:
                messagebox.showerror("Ø®Ø·Ø£", "ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø·Ø© Ø¹Ø¶ÙˆÙŠØ© ØµØ§Ù„Ø­Ø©")
                return
            
            # ØªØ­ÙˆÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
            try:
                start_date = datetime.date(
                    int(self.start_year.get()),
                    int(self.start_month.get()),
                    int(self.start_day.get())
                )
            except ValueError:
                messagebox.showerror("Ø®Ø·Ø£", "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ØºÙŠØ± ØµØ§Ù„Ø­")
                return
            
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚ÙŠÙ… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            discount = float(self.discount_entry.get() or 0)
            paid_amount = float(self.paid_amount_entry.get() or 0)
            create_invoice = self.create_invoice_var.get()
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
            subscription_data = {
                'member_id': member_id,
                'plan_id': plan_id,
                'start_date': start_date,
                'discount': discount,
                'paid_amount': paid_amount,
                'create_invoice': create_invoice
            }
            
            # Ø­ÙØ¸ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
            result = self.subscription_controller.create_subscription(subscription_data)
            
            if result['success']:
                messagebox.showinfo("Ù†Ø¬Ø§Ø­", "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ù†Ø¬Ø§Ø­")
                self.destroy()
            else:
                messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£: {result['error']}")
        
        except Exception as e:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹: {str(e)}")
```

## ğŸ”„ ØªØ­ÙˆÙŠÙ„ ØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù

```python
# app/views/attendance_view.py
class AttendanceFrame(ctk.CTkFrame):
    def __init__(self, parent, attendance_controller):
        super().__init__(parent)
        self.attendance_controller = attendance_controller
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.title_label = ctk.CTkLabel(self, text="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù", font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=10)
        
        # Ø¥Ø·Ø§Ø± Ø§Ù„Ø¨Ø­Ø«
        self.search_frame = ctk.CTkFrame(self)
        self.search_frame.pack(fill="x", padx=20, pady=10)
        
        self.search_label = ctk.CTkLabel(self.search_frame, text="ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø¶Ùˆ:")
        self.search_label.pack(side="right", padx=5)
        
        self.search_entry = ctk.CTkEntry(self.search_frame, width=200)
        self.search_entry.pack(side="right", padx=5)
        self.search_entry.bind("<Return>", self.search_member)
        
        self.search_button = ctk.CTkButton(self.search_frame, text="Ø¨Ø­Ø«", command=lambda: self.search_member(None))
        self.search_button.pack(side="right", padx=5)
        
        # Ø¥Ø·Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ
        self.member_frame = ctk.CTkFrame(self)
        self.member_frame.pack(fill="x", padx=20, pady=10)
        
        self.member_info_label = ctk.CTkLabel(self.member_frame, text="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ", font=ctk.CTkFont(weight="bold"))
        self.member_info_label.pack(pady=5)
        
        self.member_name_label = ctk.CTkLabel(self.member_frame, text="Ø§Ù„Ø§Ø³Ù…: ")
        self.member_name_label.pack(pady=2)
        
        self.member_code_label = ctk.CTkLabel(self.member_frame, text="ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø¶Ùˆ: ")
        self.member_code_label.pack(pady=2)
        
        self.subscription_status_label = ctk.CTkLabel(self.member_frame, text="Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: ")
        self.subscription_status_label.pack(pady=2)
        
        self.remaining_sessions_label = ctk.CTkLabel(self.member_frame, text="Ø§Ù„Ø­ØµØµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ")
        self.remaining_sessions_label.pack(pady=2)
        
        # Ø¥Ø·Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
        self.actions_frame = ctk.CTkFrame(self)
        self.actions_frame.pack(fill="x", padx=20, pady=10)
        
        self.check_in_button = ctk.CTkButton(self.actions_frame, text="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±", command=self.check_in)
        self.check_in_button.pack(side="right", padx=10, pady=10)
        
        self.check_out_button = ctk.CTkButton(self.actions_frame, text="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†ØµØ±Ø§Ù", command=self.check_out)
        self.check_out_button.pack(side="right", padx=10, pady=10)
        
        # ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        self.check_in_button.configure(state="disabled")
        self.check_out_button.configure(state="disabled")
        
        # Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ø­Ø§Ù„ÙŠ
        self.current_member = None
        self.current_attendance = None
    
    def search_member(self, event):
        member_code = self.search_entry.get()
        if not member_code:
            messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø¶Ùˆ")
            return
        
        # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ø¶Ùˆ
        member = self.attendance_controller.get_member_by_code(member_code)
        if not member:
            messagebox.showerror("Ø®Ø·Ø£", "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¶Ùˆ")
            return
        
        # Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ
        self.current_member = member
        self.member_name_label.configure(text=f"Ø§Ù„Ø§Ø³Ù…: {member.first_name} {member.last_name}")
        self.member_code_label.configure(text=f"ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø¶Ùˆ: {member.member_code}")
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
        subscription = self.attendance_controller.get_active_subscription(member.id)
        if subscription:
            self.subscription_status_label.configure(text=f"Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: {subscription.status}")
            self.remaining_sessions_label.configure(text=f"Ø§Ù„Ø­ØµØµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: {subscription.remaining_sessions}")
            
            # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
            validity_check = self.attendance_controller.check_subscription_validity(subscription.id)
            if validity_check['valid']:
                # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø­Ø¶ÙˆØ± Ù…ÙØªÙˆØ­
                attendance = self.attendance_controller.get_open_attendance(member.id)
                if attendance:
                    self.current_attendance = attendance
                    self.check_in_button.configure(state="disabled")
                    self.check_out_button.configure(state="normal")
                else:
                    self.current_attendance = None
                    self.check_in_button.configure(state="normal")
                    self.check_out_button.configure(state="disabled")
            else:
                messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", f"Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ØºÙŠØ± ØµØ§Ù„Ø­: {validity_check['reason']}")
                self.check_in_button.configure(state="disabled")
                self.check_out_button.configure(state="disabled")
        else:
            self.subscription_status_label.configure(text="Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø´ØªØ±Ø§Ùƒ Ù†Ø´Ø·")
            self.remaining_sessions_label.configure(text="Ø§Ù„Ø­ØµØµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: 0")
            messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø´ØªØ±Ø§Ùƒ Ù†Ø´Ø· Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ")
            self.check_in_button.configure(state="disabled")
            self.check_out_button.configure(state="disabled")
    
    def check_in(self):
        if not self.current_member:
            return
        
        # ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±
        result = self.attendance_controller.check_in(self.current_member.id)
        if result['success']:
            messagebox.showinfo("Ù†Ø¬Ø§Ø­", "ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­")
            self.current_attendance = result['attendance']
            self.check_in_button.configure(state="disabled")
            self.check_out_button.configure(state="normal")
            
            # ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø­ØµØµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
            subscription = self.attendance_controller.get_active_subscription(self.current_member.id)
            if subscription:
                self.remaining_sessions_label.configure(text=f"Ø§Ù„Ø­ØµØµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: {subscription.remaining_sessions}")
        else:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£: {result['error']}")
    
    def check_out(self):
        if not self.current_attendance:
            return
        
        # ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†ØµØ±Ø§Ù
        result = self.attendance_controller.check_out(self.current_attendance.id)
        if result['success']:
            messagebox.showinfo("Ù†Ø¬Ø§Ø­", "ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†ØµØ±Ø§Ù Ø¨Ù†Ø¬Ø§Ø­")
            self.current_attendance = None
            self.check_in_button.configure(state="normal")
            self.check_out_button.configure(state="disabled")
        else:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£: {result['error']}")
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±

```python
# app/controllers/invoice_controller.py
class InvoiceController:
    def __init__(self, db_service, invoice_service):
        self.db_service = db_service
        self.invoice_service = invoice_service
    
    def create_invoice(self, invoice_data):
        try:
            # Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
            invoice = Invoice(
                member_id=invoice_data['member_id'],
                invoice_date=datetime.date.today(),
                invoice_number=self.invoice_service.generate_invoice_number(),
                total_amount=invoice_data['total_amount'],
                paid_amount=invoice_data.get('paid_amount', 0),
                payment_status='unpaid' if invoice_data['total_amount'] > invoice_data.get('paid_amount', 0) else 'paid',
                notes=invoice_data.get('notes', '')
            )
            
            # Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©
            invoice_items = []
            for item_data in invoice_data['items']:
                item = InvoiceItem(
                    description=item_data['description'],
                    quantity=item_data['quantity'],
                    unit_price=item_data['unit_price'],
                    total_price=item_data['quantity'] * item_data['unit_price']
                )
                invoice_items.append(item)
            
            # Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ¹Ù†Ø§ØµØ±Ù‡Ø§ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            self.db_service.add_invoice(invoice, invoice_items)
            
            return {'success': True, 'invoice': invoice}
        except Exception as e:
            return {'success': False, 'error': str(e)}
    
    def generate_invoice_pdf(self, invoice_id):
        try:
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ¹Ù†Ø§ØµØ±Ù‡Ø§
            invoice = self.db_service.get_invoice_by_id(invoice_id)
            if not invoice:
                return {'success': False, 'error': 'Ø§Ù„ÙØ§ØªÙˆØ±Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©'}
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF
            pdf_path = self.invoice_service.generate_invoice_pdf(invoice)
            
            return {'success': True, 'pdf_path': pdf_path}
        except Exception as e:
            return {'success': False, 'error': str(e)}

# app/views/invoice_view.py
class InvoiceFormWindow(ctk.CTkToplevel):
    def __init__(self, parent, invoice_controller, member=None):
        super().__init__(parent)
        self.invoice_controller = invoice_controller
        self.member = member
        
        self.title("Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©")
        self.geometry("800x600")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.title_label = ctk.CTkLabel(self, text="Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©", font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=10)
        
        # Ø¥Ø·Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©
        self.info_frame = ctk.CTkFrame(self)
        self.info_frame.pack(fill="x", padx=20, pady=10)
        
        # Ø§Ù„Ø¹Ø¶Ùˆ
        self.member_label = ctk.CTkLabel(self.info_frame, text="Ø§Ù„Ø¹Ø¶Ùˆ:")
        self.member_label.grid(row=0, column=0, padx=10, pady=10, sticky="e")
        
        if member:
            self.member_value = ctk.CTkLabel(self.info_frame, text=f"{member.first_name} {member.last_name}")
            self.member_value.grid(row=0, column=1, padx=10, pady=10, sticky="w")
        else:
            self.member_button = ctk.CTkButton(self.info_frame, text="Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ", command=self.select_member)
            self.member_button.grid(row=0, column=1, padx=10, pady=10, sticky="w")
            self.selected_member = None
        
        # Ø§Ù„ØªØ§Ø±ÙŠØ®
        self.date_label = ctk.CTkLabel(self.info_frame, text="Ø§Ù„ØªØ§Ø±ÙŠØ®:")
        self.date_label.grid(row=0, column=2, padx=10, pady=10, sticky="e")
        
        today = datetime.date.today()
        self.date_value = ctk.CTkLabel(self.info_frame, text=today.strftime("%Y-%m-%d"))
        self.date_value.grid(row=0, column=3, padx=10, pady=10, sticky="w")
        
        # Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
        self.notes_label = ctk.CTkLabel(self.info_frame, text="Ù…Ù„Ø§Ø­Ø¸Ø§Øª:")
        self.notes_label.grid(row=1, column=0, padx=10, pady=10, sticky="e")
        
        self.notes_entry = ctk.CTkEntry(self.info_frame, width=300)
        self.notes_entry.grid(row=1, column=1, columnspan=3, padx=10, pady=10, sticky="w")
        
        # Ø¥Ø·Ø§Ø± Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©
        self.items_frame = ctk.CTkFrame(self)
        self.items_frame.pack(fill="both", expand=True, padx=20, pady=10)
        
        self.items_label = ctk.CTkLabel(self.items_frame, text="Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©", font=ctk.CTkFont(weight="bold"))
        self.items_label.pack(pady=5)
        
        # Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ±
        self.tree_frame = ctk.CTkFrame(self.items_frame)
        self.tree_frame.pack(fill="both", expand=True, padx=10, pady=5)
        
        columns = ("description", "quantity", "unit_price", "total_price")
        self.tree = ttk.Treeview(self.tree_frame, columns=columns, show="headings")
        
        # ØªØ¹ÙŠÙŠÙ† Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        self.tree.heading("description", text="Ø§Ù„ÙˆØµÙ")
        self.tree.heading("quantity", text="Ø§Ù„ÙƒÙ…ÙŠØ©")
        self.tree.heading("unit_price", text="Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©")
        self.tree.heading("total_price", text="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ")
        
        # ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        self.tree.column("description", width=300)
        self.tree.column("quantity", width=100)
        self.tree.column("unit_price", width=100)
        self.tree.column("total_price", width=100)
        
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ±
        scrollbar = ttk.Scrollbar(self.tree_frame, orient="vertical", command=self.tree.yview)
        self.tree.configure(yscrollcommand=scrollbar.set)
        scrollbar.pack(side="right", fill="y")
        self.tree.pack(side="left", fill="both", expand=True)
        
        # Ø£Ø²Ø±Ø§Ø± Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ±
        self.item_buttons_frame = ctk.CTkFrame(self.items_frame)
        self.item_buttons_frame.pack(fill="x", padx=10, pady=5)
        
        self.add_item_button = ctk.CTkButton(self.item_buttons_frame, text="Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±", command=self.add_item)
        self.add_item_button.pack(side="left", padx=5)
        
        self.edit_item_button = ctk.CTkButton(self.item_buttons_frame, text="ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ØµØ±", command=self.edit_item)
        self.edit_item_button.pack(side="left", padx=5)
        
        self.remove_item_button = ctk.CTkButton(self.item_buttons_frame, text="Ø­Ø°Ù Ø¹Ù†ØµØ±", command=self.remove_item)
        self.remove_item_button.pack(side="left", padx=5)
        
        # Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ø¬Ø§Ù…ÙŠØ¹
        self.totals_frame = ctk.CTkFrame(self)
        self.totals_frame.pack(fill="x", padx=20, pady=10)
        
        # Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
        self.total_label = ctk.CTkLabel(self.totals_frame, text="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:")
        self.total_label.grid(row=0, column=0, padx=10, pady=5, sticky="e")
        
        self.total_value = ctk.CTkLabel(self.totals_frame, text="0")
        self.total_value.grid(row=0, column=1, padx=10, pady=5, sticky="w")
        
        # Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹
        self.paid_amount_label = ctk.CTkLabel(self.totals_frame, text="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹:")
        self.paid_amount_label.grid(row=1, column=0, padx=10, pady=5, sticky="e")
        
        self.paid_amount_entry = ctk.CTkEntry(self.totals_frame, width=100)
        self.paid_amount_entry.insert(0, "0")
        self.paid_amount_entry.grid(row=1, column=1, padx=10, pady=5, sticky="w")
        
        # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
        self.buttons_frame = ctk.CTkFrame(self)
        self.buttons_frame.pack(fill="x", padx=20, pady=10)
        
        self.cancel_button = ctk.CTkButton(self.buttons_frame, text="Ø¥Ù„ØºØ§Ø¡", command=self.destroy)
        self.cancel_button.pack(side="right", padx=10)
        
        self.save_button = ctk.CTkButton(self.buttons_frame, text="Ø­ÙØ¸", command=self.save_invoice)
        self.save_button.pack(side="right", padx=10)
        
        self.save_print_button = ctk.CTkButton(self.buttons_frame, text="Ø­ÙØ¸ ÙˆØ·Ø¨Ø§Ø¹Ø©", command=self.save_and_print)
        self.save_print_button.pack(side="right", padx=10)
        
        # Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ±
        self.invoice_items = []
    
    def select_member(self):
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ
        select_window = MemberSelectorWindow(self, self.invoice_controller.db_service)
        self.wait_window(select_window)
        
        if hasattr(select_window, 'selected_member') and select_window.selected_member:
            self.selected_member = select_window.selected_member
            self.member_button.configure(text=f"{self.selected_member.first_name} {self.selected_member.last_name}")
    
    def add_item(self):
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±
        item_window = InvoiceItemWindow(self)
        self.wait_window(item_window)
        
        if hasattr(item_window, 'item_data') and item_window.item_data:
            # Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            self.invoice_items.append(item_window.item_data)
            
            # Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„
            self.tree.insert("", "end", values=(
                item_window.item_data['description'],
                item_window.item_data['quantity'],
                item_window.item_data['unit_price'],
                item_window.item_data['quantity'] * item_window.item_data['unit_price']
            ))
            
            # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
            self.update_total()
    
    def edit_item(self):
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ­Ø¯ÙŠØ¯ Ø¹Ù†ØµØ±
        selected_items = self.tree.selection()
        if not selected_items:
            messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø¹Ù†ØµØ± Ù„Ù„ØªØ¹Ø¯ÙŠÙ„")
            return
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯
        selected_item = selected_items[0]
        item_index = self.tree.index(selected_item)
        item_data = self.invoice_items[item_index]
        
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù†ØµØ±
        item_window = InvoiceItemWindow(self, item_data)
        self.wait_window(item_window)
        
        if hasattr(item_window, 'item_data') and item_window.item_data:
            # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            self.invoice_items[item_index] = item_window.item_data
            
            # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
            self.tree.item(selected_item, values=(
                item_window.item_data['description'],
                item_window.item_data['quantity'],
                item_window.item_data['unit_price'],
                item_window.item_data['quantity'] * item_window.item_data['unit_price']
            ))
            
            # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
            self.update_total()
    
    def remove_item(self):
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ­Ø¯ÙŠØ¯ Ø¹Ù†ØµØ±
        selected_items = self.tree.selection()
        if not selected_items:
            messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø¹Ù†ØµØ± Ù„Ù„Ø­Ø°Ù")
            return
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯
        selected_item = selected_items[0]
        item_index = self.tree.index(selected_item)
        
        # Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        self.invoice_items.pop(item_index)
        
        # Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„
        self.tree.delete(selected_item)
        
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
        self.update_total()
    
    def update_total(self):
        # Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
        total = sum(item['quantity'] * item['unit_price'] for item in self.invoice_items)
        self.total_value.configure(text=str(total))
    
    def save_invoice(self):
        try:
            # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ
            member_id = self.member.id if self.member else (self.selected_member.id if self.selected_member else None)
            if not member_id:
                messagebox.showerror("Ø®Ø·Ø£", "ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ")
                return
            
            # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¹Ù†Ø§ØµØ±
            if not self.invoice_items:
                messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ù„Ù„ÙØ§ØªÙˆØ±Ø©")
                return
            
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚ÙŠÙ… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            total_amount = float(self.total_value.cget("text"))
            paid_amount = float(self.paid_amount_entry.get() or 0)
            notes = self.notes_entry.get()
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©
            invoice_data = {
                'member_id': member_id,
                'total_amount': total_amount,
                'paid_amount': paid_amount,
                'notes': notes,
                'items': self.invoice_items
            }
            
            # Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
            result = self.invoice_controller.create_invoice(invoice_data)
            
            if result['success']:
                messagebox.showinfo("Ù†Ø¬Ø§Ø­", "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­")
                self.destroy()
                return result['invoice']
            else:
                messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£: {result['error']}")
                return None
        
        except Exception as e:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹: {str(e)}")
            return None
    
    def save_and_print(self):
        # Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
        invoice = self.save_invoice()
        if not invoice:
            return
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF
        result = self.invoice_controller.generate_invoice_pdf(invoice.id)
        if result['success']:
            # ÙØªØ­ Ù…Ù„Ù PDF
            os.startfile(result['pdf_path'])
        else:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF: {result['error']}")
```

### 3. Ø¹Ø±Ø¶ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

```python
# app/controllers/report_controller.py
class ReportController:
    def __init__(self, db_service, report_service):
        self.db_service = db_service
        self.report_service = report_service
    
    def generate_financial_report(self, start_date, end_date, report_type='summary'):
        try:
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
            invoices = self.db_service.get_invoices_by_date_range(start_date, end_date)
            payments = self.db_service.get_payments_by_date_range(start_date, end_date)
            expenses = self.db_service.get_expenses_by_date_range(start_date, end_date)
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
            report_data = self.report_service.generate_financial_report(
                invoices, payments, expenses, report_type
            )
            
            return {'success': True, 'report_data': report_data}
        except Exception as e:
            return {'success': False, 'error': str(e)}
    
    def generate_member_report(self, start_date, end_date, report_type='summary'):
        try:
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
            members = self.db_service.get_members_by_date_range(start_date, end_date)
            subscriptions = self.db_service.get_subscriptions_by_date_range(start_date, end_date)
            attendance = self.db_service.get_attendance_by_date_range(start_date, end_date)
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
            report_data = self.report_service.generate_member_report(
                members, subscriptions, attendance, report_type
            )
            
            return {'success': True, 'report_data': report_data}
        except Exception as e:
            return {'success': False, 'error': str(e)}
    
    def export_report_to_excel(self, report_data, file_path):
        try:
            # ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¥Ù„Ù‰ Ù…Ù„Ù Excel
            self.report_service.export_to_excel(report_data, file_path)
            return {'success': True, 'file_path': file_path}
        except Exception as e:
            return {'success': False, 'error': str(e)}

# app/views/report_view.py
class ReportFrame(ctk.CTkFrame):
    def __init__(self, parent, report_controller):
        super().__init__(parent)
        self.report_controller = report_controller
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.title_label = ctk.CTkLabel(self, text="Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±", font=ctk.CTkFont(size=20, weight="bold"))
        self.title_label.pack(pady=10)
        
        # Ø¥Ø·Ø§Ø± Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        self.criteria_frame = ctk.CTkFrame(self)
        self.criteria_frame.pack(fill="x", padx=20, pady=10)
        
        # Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        self.report_type_label = ctk.CTkLabel(self.criteria_frame, text="Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:")
        self.report_type_label.grid(row=0, column=0, padx=10, pady=10, sticky="e")
        
        self.report_type_var = ctk.StringVar(value="financial")
        self.report_type_financial = ctk.CTkRadioButton(self.criteria_frame, text="ØªÙ‚Ø±ÙŠØ± Ù…Ø§Ù„ÙŠ", variable=self.report_type_var, value="financial")
        self.report_type_financial.grid(row=0, column=1, padx=10, pady=10, sticky="w")
        
        self.report_type_member = ctk.CTkRadioButton(self.criteria_frame, text="ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡", variable=self.report_type_var, value="member")
        self.report_type_member.grid(row=0, column=2, padx=10, pady=10, sticky="w")
        
        # Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„
        self.detail_level_label = ctk.CTkLabel(self.criteria_frame, text="Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„:")
        self.detail_level_label.grid(row=1, column=0, padx=10, pady=10, sticky="e")
        
        self.detail_level_var = ctk.StringVar(value="summary")
        self.detail_level_summary = ctk.CTkRadioButton(self.criteria_frame, text="Ù…Ù„Ø®Øµ", variable=self.detail_level_var, value="summary")
        self.detail_level_summary.grid(row=1, column=1, padx=10, pady=10, sticky="w")
        
        self.detail_level_detailed = ctk.CTkRadioButton(self.criteria_frame, text="ØªÙØµÙŠÙ„ÙŠ", variable=self.detail_level_var, value="detailed")
        self.detail_level_detailed.grid(row=1, column=2, padx=10, pady=10, sticky="w")
        
        # Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
        self.date_range_label = ctk.CTkLabel(self.criteria_frame, text="Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©:")
        self.date_range_label.grid(row=2, column=0, padx=10, pady=10, sticky="e")
        
        self.date_range_var = ctk.StringVar(value="month")
        self.date_range_month = ctk.CTkRadioButton(self.criteria_frame, text="Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ", variable=self.date_range_var, value="month")
        self.date_range_month.grid(row=2, column=1, padx=10, pady=10, sticky="w")
        
        self.date_range_quarter = ctk.CTkRadioButton(self.criteria_frame, text="Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ", variable=self.date_range_var, value="quarter")
        self.date_range_quarter.grid(row=2, column=2, padx=10, pady=10, sticky="w")
        
        self.date_range_year = ctk.CTkRadioButton(self.criteria_frame, text="Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©", variable=self.date_range_var, value="year")
        self.date_range_year.grid(row=2, column=3, padx=10, pady=10, sticky="w")
        
        self.date_range_custom = ctk.CTkRadioButton(self.criteria_frame, text="Ù…Ø®ØµØµ", variable=self.date_range_var, value="custom")
        self.date_range_custom.grid(row=2, column=4, padx=10, pady=10, sticky="w")
        
        # ØªÙˆØ§Ø±ÙŠØ® Ù…Ø®ØµØµØ©
        self.custom_dates_frame = ctk.CTkFrame(self.criteria_frame)
        self.custom_dates_frame.grid(row=3, column=1, columnspan=4, padx=10, pady=10, sticky="w")
        
        self.start_date_label = ctk.CTkLabel(self.custom_dates_frame, text="Ù…Ù†:")
        self.start_date_label.pack(side="left", padx=5)
        
        today = datetime.date.today()
        
        self.start_date_frame = ctk.CTkFrame(self.custom_dates_frame)
        self.start_date_frame.pack(side="left", padx=5)
        
        self.start_day = ctk.CTkComboBox(self.start_date_frame, values=[str(i) for i in range(1, 32)], width=60)
        self.start_day.set("1")
        self.start_day.pack(side="right", padx=2)
        
        self.start_month = ctk.CTkComboBox(self.start_date_frame, values=[str(i) for i in range(1, 13)], width=60)
        self.start_month.set(str(today.month))
        self.start_month.pack(side="right", padx=2)
        
        self.start_year = ctk.CTkComboBox(self.start_date_frame, values=[str(i) for i in range(today.year - 5, today.year + 1)], width=80)
        self.start_year.set(str(today.year))
        self.start_year.pack(side="right", padx=2)
        
        self.end_date_label = ctk.CTkLabel(self.custom_dates_frame, text="Ø¥Ù„Ù‰:")
        self.end_date_label.pack(side="left", padx=5)
        
        self.end_date_frame = ctk.CTkFrame(self.custom_dates_frame)
        self.end_date_frame.pack(side="left", padx=5)
        
        self.end_day = ctk.CTkComboBox(self.end_date_frame, values=[str(i) for i in range(1, 32)], width=60)
        self.end_day.set(str(today.day))
        self.end_day.pack(side="right", padx=2)
        
        self.end_month = ctk.CTkComboBox(self.end_date_frame, values=[str(i) for i in range(1, 13)], width=60)
        self.end_month.set(str(today.month))
        self.end_month.pack(side="right", padx=2)
        
        self.end_year = ctk.CTkComboBox(self.end_date_frame, values=[str(i) for i in range(today.year - 5, today.year + 1)], width=80)
        self.end_year.set(str(today.year))
        self.end_year.pack(side="right", padx=2)
        
        # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
        self.actions_frame = ctk.CTkFrame(self)
        self.actions_frame.pack(fill="x", padx=20, pady=10)
        
        self.generate_button = ctk.CTkButton(self.actions_frame, text="Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±", command=self.generate_report)
        self.generate_button.pack(side="left", padx=10)
        
        self.export_excel_button = ctk.CTkButton(self.actions_frame, text="ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel", command=self.export_to_excel)
        self.export_excel_button.pack(side="left", padx=10)
        self.export_excel_button.configure(state="disabled")
        
        self.export_pdf_button = ctk.CTkButton(self.actions_frame, text="ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ PDF", command=self.export_to_pdf)
        self.export_pdf_button.pack(side="left", padx=10)
        self.export_pdf_button.configure(state="disabled")
        
        # Ø¥Ø·Ø§Ø± Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        self.report_frame = ctk.CTkFrame(self)
        self.report_frame.pack(fill="both", expand=True, padx=20, pady=10)
        
        self.report_label = ctk.CTkLabel(self.report_frame, text="Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ‚Ø±ÙŠØ±", font=ctk.CTkFont(weight="bold"))
        self.report_label.pack(pady=5)
        
        # Ù…Ø³Ø§Ø­Ø© Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± (ØªØ®ØªÙ„Ù Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±)
        self.report_content_frame = ctk.CTkFrame(self.report_frame)
        self.report_content_frame.pack(fill="both", expand=True, padx=10, pady=5)
        
        # Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
        self.current_report_data = None
    
    def generate_report(self):
        try:
            # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±
            report_type = self.report_type_var.get()
            detail_level = self.detail_level_var.get()
            date_range = self.date_range_var.get()
            
            # ØªØ­Ø¯ÙŠØ¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ©
            today = datetime.date.today()
            start_date = None
            end_date = today
            
            if date_range == "month":
                start_date = datetime.date(today.year, today.month, 1)
            elif date_range == "quarter":
                quarter_month = ((today.month - 1) // 3) * 3 + 1
                start_date = datetime.date(today.year, quarter_month, 1)
            elif date_range == "year":
                start_date = datetime.date(today.year, 1, 1)
            elif date_range == "custom":
                try:
                    start_date = datetime.date(
                        int(self.start_year.get()),
                        int(self.start_month.get()),
                        int(self.start_day.get())
                    )
                    end_date = datetime.date(
                        int(self.end_year.get()),
                        int(self.end_month.get()),
                        int(self.end_day.get())
                    )
                except ValueError:
                    messagebox.showerror("Ø®Ø·Ø£", "ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ§Ù„Ø­")
                    return
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
            if report_type == "financial":
                result = self.report_controller.generate_financial_report(start_date, end_date, detail_level)
            else:  # member
                result = self.report_controller.generate_member_report(start_date, end_date, detail_level)
            
            if result['success']:
                self.current_report_data = result['report_data']
                self.display_report(self.current_report_data, report_type)
                self.export_excel_button.configure(state="normal")
                self.export_pdf_button.configure(state="normal")
            else:
                messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±: {result['error']}")
        
        except Exception as e:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹: {str(e)}")
    
    def display_report(self, report_data, report_type):
        # Ù…Ø³Ø­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ
        for widget in self.report_content_frame.winfo_children():
            widget.destroy()
        
        # Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
        if report_type == "financial":
            self.display_financial_report(report_data)
        else:  # member
            self.display_member_report(report_data)
    
    def display_financial_report(self, report_data):
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
        columns = ("category", "amount")
        tree = ttk.Treeview(self.report_content_frame, columns=columns, show="headings")
        
        # ØªØ¹ÙŠÙŠÙ† Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        tree.heading("category", text="Ø§Ù„ÙØ¦Ø©")
        tree.heading("amount", text="Ø§Ù„Ù…Ø¨Ù„Øº")
        
        # ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        tree.column("category", width=200)
        tree.column("amount", width=150)
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        tree.insert("", "end", values=("Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª", report_data['total_income']))
        tree.insert("", "end", values=("Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª", report_data['total_expenses']))
        tree.insert("", "end", values=("ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­", report_data['net_profit']))
        
        # Ø¥Ø¶Ø§ÙØ© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
        income_parent = tree.insert("", "end", values=("ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª", ""))
        for category, amount in report_data['income_by_category'].items():
            tree.insert(income_parent, "end", values=(category, amount))
        
        # Ø¥Ø¶Ø§ÙØ© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
        expenses_parent = tree.insert("", "end", values=("ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª", ""))
        for category, amount in report_data['expenses_by_category'].items():
            tree.insert(expenses_parent, "end", values=(category, amount))
        
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ±
        scrollbar = ttk.Scrollbar(self.report_content_frame, orient="vertical", command=tree.yview)
        tree.configure(yscrollcommand=scrollbar.set)
        scrollbar.pack(side="right", fill="y")
        tree.pack(side="left", fill="both", expand=True)
    
    def display_member_report(self, report_data):
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ù„Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        columns = ("category", "value")
        tree = ttk.Treeview(self.report_content_frame, columns=columns, show="headings")
        
        # ØªØ¹ÙŠÙŠÙ† Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        tree.heading("category", text="Ø§Ù„ÙØ¦Ø©")
        tree.heading("value", text="Ø§Ù„Ù‚ÙŠÙ…Ø©")
        
        # ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        tree.column("category", width=200)
        tree.column("value", width=150)
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        tree.insert("", "end", values=("Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡", report_data['total_members']))
        tree.insert("", "end", values=("Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ†", report_data['active_members']))
        tree.insert("", "end", values=("Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø¯", report_data['new_members']))
        tree.insert("", "end", values=("Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©", report_data['active_subscriptions']))
        tree.insert("", "end", values=("Ù…ØªÙˆØ³Ø· Ù…Ø¯Ø© Ø§Ù„Ø­Ø¶ÙˆØ±", f"{report_data['avg_attendance_duration']} Ø¯Ù‚ÙŠÙ‚Ø©"))
        
        # Ø¥Ø¶Ø§ÙØ© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
        subscriptions_parent = tree.insert("", "end", values=("Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ø®Ø·Ø©", ""))
        for plan, count in report_data['subscriptions_by_plan'].items():
            tree.insert(subscriptions_parent, "end", values=(plan, count))
        
        # Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ±
        scrollbar = ttk.Scrollbar(self.report_content_frame, orient="vertical", command=tree.yview)
        tree.configure(yscrollcommand=scrollbar.set)
        scrollbar.pack(side="right", fill="y")
        tree.pack(side="left", fill="both", expand=True)
    
    def export_to_excel(self):
        if not self.current_report_data:
            messagebox.showwarning("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø£ÙˆÙ„Ø§Ù‹")
            return
        
        # Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù„Ù
        file_path = filedialog.asksaveasfilename(
            defaultextension=".xlsx",
            filetypes=[("Excel files", "*.xlsx")],
            title="Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙƒÙ…Ù„Ù Excel"
        )
        
        if not file_path:
            return
        
        # ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        result = self.report_controller.export_report_to_excel(self.current_report_data, file_path)
        
        if result['success']:
            messagebox.showinfo("Ù†Ø¬Ø§Ø­", f"ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ Ø¥Ù„Ù‰ {result['file_path']}")
            # ÙØªØ­ Ø§Ù„Ù…Ù„Ù
            os.startfile(result['file_path'])
        else:
            messagebox.showerror("Ø®Ø·Ø£", f"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±: {result['error']}")
    
    def export_to_pdf(self):
        # Ù…Ù…Ø§Ø«Ù„ Ù„ØªØµØ¯ÙŠØ± Excel ÙˆÙ„ÙƒÙ† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… PDF
        pass
```

## ğŸ”„ ØªÙƒÙŠÙŠÙ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©

```python
# app/services/db_service.py
class DatabaseService:
    def __init__(self, db_path):
        self.db_path = db_path
        self.engine = create_engine(f'sqlite:///{db_path}')
        self.Session = sessionmaker(bind=self.engine)
        self.session = self.Session()
    
    def init_db(self):
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
        Base.metadata.create_all(self.engine)
    
    def migrate_db(self, old_db_path):
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        old_engine = create_engine(f'sqlite:///{old_db_path}')
        old_session = sessionmaker(bind=old_engine)()
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
        old_members = old_session.query(Member).all()
        for member in old_members:
            self.session.add(member)
        
        # ØªØ±Ø­ÙŠÙ„ Ø®Ø·Ø· Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
        old_plans = old_session.query(MembershipPlan).all()
        for plan in old_plans:
            self.session.add(plan)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
        old_subscriptions = old_session.query(Subscription).all()
        for subscription in old_subscriptions:
            self.session.add(subscription)
        
        # ØªØ±Ø­ÙŠÙ„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø­Ø¶ÙˆØ±
        old_attendance = old_session.query(Attendance).all()
        for attendance in old_attendance:
            self.session.add(attendance)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
        old_invoices = old_session.query(Invoice).all()
        for invoice in old_invoices:
            self.session.add(invoice)
        
        # ØªØ±Ø­ÙŠÙ„ Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙÙˆØ§ØªÙŠØ±
        old_invoice_items = old_session.query(InvoiceItem).all()
        for item in old_invoice_items:
            self.session.add(item)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
        old_payments = old_session.query(Payment).all()
        for payment in old_payments:
            self.session.add(payment)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
        old_expenses = old_session.query(Expense).all()
        for expense in old_expenses:
            self.session.add(expense)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        old_products = old_session.query(Product).all()
        for product in old_products:
            self.session.add(product)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
        old_sales = old_session.query(Sale).all()
        for sale in old_sales:
            self.session.add(sale)
        
        # ØªØ±Ø­ÙŠÙ„ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
        old_sale_items = old_session.query(SaleItem).all()
        for item in old_sale_items:
            self.session.add(item)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        old_users = old_session.query(User).all()
        for user in old_users:
            self.session.add(user)
        
        # ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        old_settings = old_session.query(GymSettings).all()
        for setting in old_settings:
            self.session.add(setting)
        
        # Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        self.session.commit()
        
        old_session.close()
```

## ğŸ”„ ØªÙƒÙŠÙŠÙ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

```python
# app/views/main_window.py
class MainWindow(ctk.CTk):
    def __init__(self, app_controller):
        super().__init__()
        self.app_controller = app_controller
        
        # Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        self.title("Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ")
        self.geometry("1200x800")
        
        # ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ù…Ø©
        ctk.set_appearance_mode("dark")  # Ø§Ù„ÙˆØ¶Ø¹: "light" Ø£Ùˆ "dark"
        ctk.set_default_color_theme("blue")  # Ø§Ù„Ø³Ù…Ø©: "blue", "green", "dark-blue"
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        self.main_frame = ctk.CTkFrame(self)
        self.main_frame.pack(fill="both", expand=True)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
        self.sidebar_frame = ctk.CTkFrame(self.main_frame, width=200)
        self.sidebar_frame.pack(side="right", fill="y")
        
        # Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø§Ø¯ÙŠ
        self.logo_label = ctk.CTkLabel(self.sidebar_frame, text="Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ", font=ctk.CTkFont(size=20, weight="bold"))
        self.logo_label.pack(pady=20)
        
        # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        self.dashboard_button = ctk.CTkButton(self.sidebar_frame, text="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…", command=lambda: self.show_frame("dashboard"))
        self.dashboard_button.pack(pady=10, padx=20, fill="x")
        
        self.members_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡", command=lambda: self.show_frame("members"))
        self.members_button.pack(pady=10, padx=20, fill="x")
        
        self.subscriptions_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª", command=lambda: self.show_frame("subscriptions"))
        self.subscriptions_button.pack(pady=10, padx=20, fill="x")
        
        self.attendance_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù", command=lambda: self.show_frame("attendance"))
        self.attendance_button.pack(pady=10, padx=20, fill="x")
        
        self.invoices_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„ÙÙˆØ§ØªÙŠØ±", command=lambda: self.show_frame("invoices"))
        self.invoices_button.pack(pady=10, padx=20, fill="x")
        
        self.reports_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±", command=lambda: self.show_frame("reports"))
        self.reports_button.pack(pady=10, padx=20, fill="x")
        
        self.inventory_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª", command=lambda: self.show_frame("inventory"))
        self.inventory_button.pack(pady=10, padx=20, fill="x")
        
        self.settings_button = ctk.CTkButton(self.sidebar_frame, text="Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª", command=lambda: self.show_frame("settings"))
        self.settings_button.pack(pady=10, padx=20, fill="x")
        
        # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        self.user_frame = ctk.CTkFrame(self.sidebar_frame)
        self.user_frame.pack(side="bottom", fill="x", padx=20, pady=20)
        
        self.user_label = ctk.CTkLabel(self.user_frame, text="Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…")
        self.user_label.pack(pady=5)
        
        self.logout_button = ctk.CTkButton(self.user_frame, text="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬", command=self.logout)
        self.logout_button.pack(pady=5)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        self.content_frame = ctk.CTkFrame(self.main_frame)
        self.content_frame.pack(side="left", fill="both", expand=True)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
        self.frames = {}
        
        # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…)
        self.current_frame = None
        self.load_frames()
        self.show_frame("dashboard")
    
    def load_frames(self):
        # Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ø¥Ø·Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
        member_controller = self.app_controller.get_member_controller()
        subscription_controller = self.app_controller.get_subscription_controller()
        attendance_controller = self.app_controller.get_attendance_controller()
        invoice_controller = self.app_controller.get_invoice_controller()
        report_controller = self.app_controller.get_report_controller()
        inventory_controller = self.app_controller.get_inventory_controller()
        settings_controller = self.app_controller.get_settings_controller()
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª
        from app.views.dashboard_view import DashboardFrame
        from app.views.members_view import MembersListFrame
        from app.views.subscription_view import SubscriptionsListFrame
        from app.views.attendance_view import AttendanceFrame
        from app.views.invoice_view import InvoicesListFrame
        from app.views.report_view import ReportFrame
        from app.views.inventory_view import InventoryFrame
        from app.views.settings_view import SettingsFrame
        
        self.frames["dashboard"] = DashboardFrame(self.content_frame, self.app_controller)
        self.frames["members"] = MembersListFrame(self.content_frame, member_controller)
        self.frames["subscriptions"] = SubscriptionsListFrame(self.content_frame, subscription_controller)
        self.frames["attendance"] = AttendanceFrame(self.content_frame, attendance_controller)
        self.frames["invoices"] = InvoicesListFrame(self.content_frame, invoice_controller)
        self.frames["reports"] = ReportFrame(self.content_frame, report_controller)
        self.frames["inventory"] = InventoryFrame(self.content_frame, inventory_controller)
        self.frames["settings"] = SettingsFrame(self.content_frame, settings_controller)
    
    def show_frame(self, frame_name):
        # Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
        if self.current_frame:
            self.frames[self.current_frame].pack_forget()
        
        # Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
        self.frames[frame_name].pack(fill="both", expand=True)
        self.current_frame = frame_name
    
    def logout(self):
        # ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        self.app_controller.logout()
        self.destroy()
        
        # ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        from app.views.auth_view import LoginWindow
        login_window = LoginWindow(None, self.app_controller.get_auth_controller())
        login_window.mainloop()
```

## ğŸ“Š Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚

```python
# main.py
import os
import customtkinter as ctk
from app.controllers.app_controller import AppController
from app.views.auth_view import LoginWindow
from app.views.main_window import MainWindow

def main():
    # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
    os.makedirs("database", exist_ok=True)
    os.makedirs("logs", exist_ok=True)
    os.makedirs("exports", exist_ok=True)
    os.makedirs("temp", exist_ok=True)
    
    # Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚
    app_controller = AppController()
    
    # ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    app_controller.init_database()
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    login_window = LoginWindow(None, app_controller.get_auth_controller())
    login_window.mainloop()

if __name__ == "__main__":
    main()
```

## ğŸ”„ ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆØ§Ù„Ø­Ù„ÙˆÙ„

### 1. ØªØ­ÙˆÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ HTML Ø¥Ù„Ù‰ CustomTkinter

| Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ HTML | Ø§Ù„Ù…ÙƒØ§ÙØ¦ ÙÙŠ CustomTkinter |
|-------------------|---------------------------|
| `<input type="text">` | `ctk.CTkEntry()` |
| `<input type="password">` | `ctk.CTkEntry(show="*")` |
| `<input type="checkbox">` | `ctk.CTkCheckBox()` |
| `<input type="radio">` | `ctk.CTkRadioButton()` |
| `<select>` | `ctk.CTkComboBox()` |
| `<textarea>` | `ctk.CTkTextbox()` |
| `<button>` | `ctk.CTkButton()` |
| `<table>` | `ttk.Treeview()` |
| `<div>` | `ctk.CTkFrame()` |
| `<label>` | `ctk.CTkLabel()` |

### 2. ØªØ­ÙˆÙŠÙ„ Ø·Ù„Ø¨Ø§Øª HTTP Ø¥Ù„Ù‰ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©

| Ù†Ù…Ø· Flask | Ù†Ù…Ø· CustomTkinter |
|-----------|-------------------|
| `@app.route('/members')` | `def show_members_frame(self):` |
| `request.form.get('name')` | `self.name_entry.get()` |
| `return render_template('members.html', members=members)` | `self.display_members(members)` |
| `redirect(url_for('members'))` | `self.show_frame('members')` |
| `flash('ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­')` | `messagebox.showinfo('Ù†Ø¬Ø§Ø­', 'ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­')` |

### 3. ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø¬Ù„Ø³Ø§Øª

| Ø¢Ù„ÙŠØ© Flask | Ø¢Ù„ÙŠØ© CustomTkinter |
|------------|--------------------|
| `flask_login` | Ù…ØµØ§Ø¯Ù‚Ø© Ù…Ø­Ù„ÙŠØ© ÙˆØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© |
| `session['user_id']` | `self.current_user` |
| `@login_required` | ÙØ­Øµ `self.current_user` Ù‚Ø¨Ù„ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª |

## ğŸ” Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©

### 1. Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

1. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ­Ø¯Ø§Øª**: Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„ ÙˆØ­Ø¯Ø© ØªØ­ÙƒÙ… ÙˆÙ†Ù…ÙˆØ°Ø¬ Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØµÙ„.
2. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙƒØ§Ù…Ù„**: Ø§Ø®ØªØ¨Ø§Ø± ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù…Ø¹ Ø¨Ø¹Ø¶Ù‡Ø§ Ø§Ù„Ø¨Ø¹Ø¶.
3. **Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: Ø§Ø®ØªØ¨Ø§Ø± Ø³Ù‡ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….
4. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡**: Ù‚ÙŠØ§Ø³ Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªØ­Ø³ÙŠÙ†Ù‡.

### 2. Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±

- [ ] ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬
- [ ] Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ (Ø¥Ø¶Ø§ÙØ©ØŒ ØªØ¹Ø¯ÙŠÙ„ØŒ Ø­Ø°ÙØŒ Ø¨Ø­Ø«)
- [ ] Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª (Ø¥Ø¶Ø§ÙØ©ØŒ ØªØ¹Ø¯ÙŠÙ„ØŒ ØªØ¬Ø¯ÙŠØ¯)
- [ ] ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù
- [ ] Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- [ ] Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- [ ] Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

## ğŸ“¦ Ø§Ù„ØªÙˆØ²ÙŠØ¹ ÙˆØ§Ù„ØªØ«Ø¨ÙŠØª

### 1. Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø²Ù…Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ†ÙÙŠØ°

```python
# setup.py
from setuptools import setup, find_packages

setup(
    name="gymawy-desktop",
    version="1.0.0",
    packages=find_packages(),
    install_requires=[
        "customtkinter>=5.0.0",
        "sqlalchemy>=2.0.0",
        "pillow>=9.0.0",
        "reportlab>=3.6.0",
        "openpyxl>=3.0.0",
        "bcrypt>=4.0.0"
    ],
    entry_points={
        'console_scripts': [
            'gymawy-desktop=main:main',
        ],
    },
)
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªÙ†ÙÙŠØ°ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… PyInstaller

```bash
pyinstaller --name="Gymawy" --windowed --icon=app/assets/icon.ico --add-data="app/assets;app/assets" main.py
```

## ğŸ Ø§Ù„Ø®Ù„Ø§ØµØ©

ØªØ­ÙˆÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ Flask Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ CustomTkinter Ù‡Ùˆ Ø¹Ù…Ù„ÙŠØ© Ù…Ù†Ù‡Ø¬ÙŠØ© ØªØªØ·Ù„Ø¨ ØªØ®Ø·ÙŠØ·Ù‹Ø§ Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ ÙˆØªÙ†ÙÙŠØ°Ù‹Ø§ Ù…Ø±Ø­Ù„ÙŠÙ‹Ø§. Ø¨Ø§ØªØ¨Ø§Ø¹ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©ØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù…Ø¹Ø¸Ù… Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ø¹ ØªÙƒÙŠÙŠÙ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¨ÙŠØ¦Ø© Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨. Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø³ØªÙƒÙˆÙ† ØªØ·Ø¨ÙŠÙ‚Ù‹Ø§ Ù‚Ø§Ø¦Ù…Ù‹Ø§ Ø¨Ø°Ø§ØªÙ‡ ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆÙŠÙˆÙØ± ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù„Ø³Ø© ÙˆÙØ¹Ø§Ù„Ø©.

Ø§Ù„Ù…ÙØªØ§Ø­ Ù„Ù†Ø¬Ø§Ø­ Ù‡Ø°Ø§ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù‡Ùˆ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù†Ù…Ø· MVC ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ØŒ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… CustomTkinter ÙˆØªÙƒÙŠÙŠÙ Ø¢Ù„ÙŠØ§Øª Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ø¹Ù…Ù„ ÙÙŠ Ø¨ÙŠØ¦Ø© Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨.