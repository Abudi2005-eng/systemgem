# Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù‡Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ‚Ø¯Ù…Ù‡Ø§ Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙˆØ§Ù„Ø²ÙˆØ§Ø±. ÙŠØªÙŠØ­ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ù„Ù†Ø§Ø¯ÙŠ ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†ØŒ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù† Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù…Ø«Ù„ Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©ØŒ ÙˆØ§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©ØŒ ÙˆØ§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§ØªØŒ ÙˆØ§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ©ØŒ ÙˆØºÙŠØ±Ù‡Ø§.

## ğŸ“‹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- ØªØ­Ø¯ÙŠØ¯ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„ØªÙƒÙ„ÙØ©
- ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†

### 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- ØªØªØ¨Ø¹ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ§Ù„ÙØ© Ø£Ùˆ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©

### 3. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹
- Ø¥ØµØ¯Ø§Ø± ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- Ø±Ø¨Ø· Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø¨Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
- ØªØ³Ø¬ÙŠÙ„ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹

### 4. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- ØªØµÙ†ÙŠÙ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- ØªØ­Ø¯ÙŠØ¯ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª

## ğŸ—ƒï¸ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ù†ØªØ¬ (Product)

```python
class Product(db.Model):
    __tablename__ = 'products'
    
    id = db.Column(db.Integer, primary_key=True)
    code = db.Column(db.String(20), unique=True, nullable=False)
    name = db.Column(db.String(100), nullable=False)
    description = db.Column(db.Text)
    category = db.Column(db.String(50))
    cost_price = db.Column(db.Float, nullable=False)
    selling_price = db.Column(db.Float, nullable=False)
    quantity = db.Column(db.Integer, default=0)
    min_quantity = db.Column(db.Integer, default=5)
    image_path = db.Column(db.String(255))
    active = db.Column(db.Boolean, default=True)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    
    # Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
    inventory_transactions = db.relationship('InventoryTransaction', backref='product', lazy=True)
    sale_items = db.relationship('SaleItem', backref='product', lazy=True)
    
    def __repr__(self):
        return f'<Product {self.name}>'
    
    def get_profit_margin(self):
        """Ø­Ø³Ø§Ø¨ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­"""
        if self.cost_price > 0:
            return ((self.selling_price - self.cost_price) / self.cost_price) * 100
        return 0
    
    def is_low_stock(self):
        """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"""
        return self.quantity <= self.min_quantity
    
    def update_quantity(self, quantity_change, transaction_type):
        """ØªØ­Ø¯ÙŠØ« ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"""
        if transaction_type == 'in':
            self.quantity += quantity_change
        elif transaction_type == 'out':
            if self.quantity >= quantity_change:
                self.quantity -= quantity_change
            else:
                raise ValueError("Insufficient stock")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø³Ø¬Ù„ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        transaction = InventoryTransaction(
            product_id=self.id,
            transaction_type=transaction_type,
            quantity=quantity_change,
            notes=f"{'Stock In' if transaction_type == 'in' else 'Stock Out'}"
        )
        db.session.add(transaction)
        db.session.commit()
```

### Ù†Ù…ÙˆØ°Ø¬ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (InventoryTransaction)

```python
class InventoryTransaction(db.Model):
    __tablename__ = 'inventory_transactions'
    
    id = db.Column(db.Integer, primary_key=True)
    product_id = db.Column(db.Integer, db.ForeignKey('products.id'), nullable=False)
    transaction_type = db.Column(db.String(10), nullable=False)  # 'in' or 'out'
    quantity = db.Column(db.Integer, nullable=False)
    transaction_date = db.Column(db.DateTime, default=datetime.utcnow)
    reference = db.Column(db.String(50))  # Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø£Ùˆ Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
    notes = db.Column(db.Text)
    
    def __repr__(self):
        return f'<InventoryTransaction {self.id} - {self.transaction_type}>'    
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Sale)

```python
class Sale(db.Model):
    __tablename__ = 'sales'
    
    id = db.Column(db.Integer, primary_key=True)
    sale_number = db.Column(db.String(20), unique=True, nullable=False)
    member_id = db.Column(db.Integer, db.ForeignKey('members.id'), nullable=True)  # ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù„ØºÙŠØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
    total_amount = db.Column(db.Float, nullable=False)
    discount = db.Column(db.Float, default=0)
    final_amount = db.Column(db.Float, nullable=False)
    payment_method = db.Column(db.String(20), nullable=False)  # cash, card, etc.
    sale_date = db.Column(db.DateTime, default=datetime.utcnow)
    notes = db.Column(db.Text)
    created_by = db.Column(db.Integer, db.ForeignKey('users.id'))
    
    # Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
    items = db.relationship('SaleItem', backref='sale', lazy=True)
    member = db.relationship('Member', backref='sales', lazy=True)
    
    def __repr__(self):
        return f'<Sale {self.sale_number}>'
    
    def calculate_total(self):
        """Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª"""
        total = sum(item.subtotal for item in self.items)
        self.total_amount = total
        self.final_amount = total - self.discount
        return self.final_amount
```

### Ù†Ù…ÙˆØ°Ø¬ Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (SaleItem)

```python
class SaleItem(db.Model):
    __tablename__ = 'sale_items'
    
    id = db.Column(db.Integer, primary_key=True)
    sale_id = db.Column(db.Integer, db.ForeignKey('sales.id'), nullable=False)
    product_id = db.Column(db.Integer, db.ForeignKey('products.id'), nullable=False)
    quantity = db.Column(db.Integer, nullable=False)
    unit_price = db.Column(db.Float, nullable=False)
    subtotal = db.Column(db.Float, nullable=False)
    
    def __repr__(self):
        return f'<SaleItem {self.id}>'
    
    def calculate_subtotal(self):
        """Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ"""
        self.subtotal = self.quantity * self.unit_price
        return self.subtotal
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø© (Service)

```python
class Service(db.Model):
    __tablename__ = 'services'
    
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    description = db.Column(db.Text)
    category = db.Column(db.String(50))
    price = db.Column(db.Float, nullable=False)
    duration_minutes = db.Column(db.Integer)  # Ù…Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚
    active = db.Column(db.Boolean, default=True)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    
    # Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
    service_bookings = db.relationship('ServiceBooking', backref='service', lazy=True)
    
    def __repr__(self):
        return f'<Service {self.name}>'
```

### Ù†Ù…ÙˆØ°Ø¬ Ø­Ø¬Ø² Ø§Ù„Ø®Ø¯Ù…Ø© (ServiceBooking)

```python
class ServiceBooking(db.Model):
    __tablename__ = 'service_bookings'
    
    id = db.Column(db.Integer, primary_key=True)
    service_id = db.Column(db.Integer, db.ForeignKey('services.id'), nullable=False)
    member_id = db.Column(db.Integer, db.ForeignKey('members.id'), nullable=False)
    booking_date = db.Column(db.Date, nullable=False)
    start_time = db.Column(db.Time, nullable=False)
    end_time = db.Column(db.Time, nullable=False)
    status = db.Column(db.String(20), default='booked')  # booked, completed, cancelled
    payment_status = db.Column(db.String(20), default='pending')  # pending, paid
    notes = db.Column(db.Text)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    
    # Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
    member = db.relationship('Member', backref='service_bookings', lazy=True)
    
    def __repr__(self):
        return f'<ServiceBooking {self.id}>'
```

## ğŸ”„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ø®Ø±Ù‰

### 1. Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
- Ø±Ø¨Ø· Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø¨Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
- ØªÙ‚Ø¯ÙŠÙ… Ø®ØµÙˆÙ…Ø§Øª Ø®Ø§ØµØ© Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡
- ØªØªØ¨Ø¹ Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡

### 2. Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆØ§Ù„ÙÙˆØ§ØªÙŠØ±
- Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- ØªØªØ¨Ø¹ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

### 3. Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- ØªÙˆÙÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- ØªÙˆÙÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- ØªØ­Ù„ÙŠÙ„ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

## ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

### 1. ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©/Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©/Ø§Ù„Ø´Ù‡Ø±ÙŠØ©/Ø§Ù„Ø³Ù†ÙˆÙŠØ©
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªØ¬
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¹Ø¶Ùˆ

### 2. ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠØ©
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### 3. ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠØ©
- Ù‡ÙˆØ§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± Ø±Ø¨Ø­ÙŠØ©
- ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª

## ğŸ–¥ï¸ ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### 1. ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ù…Ù†ØªØ¬
- Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

### 2. ØµÙØ­Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¹Ø±Ø¶ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¥Ø¶Ø§ÙØ©/Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### 3. ØµÙØ­Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯Ø©
- Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹

### 4. ØµÙØ­Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ø®Ø¯Ù…Ø©
- Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø§Øª

## ğŸ› ï¸ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

```python
def add_product(name, description, category, cost_price, selling_price, quantity, min_quantity, image_path=None):
    """Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯"""
    # Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ ÙØ±ÙŠØ¯ Ù„Ù„Ù…Ù†ØªØ¬
    code = generate_product_code(category)
    
    product = Product(
        code=code,
        name=name,
        description=description,
        category=category,
        cost_price=cost_price,
        selling_price=selling_price,
        quantity=quantity,
        min_quantity=min_quantity,
        image_path=image_path
    )
    
    db.session.add(product)
    db.session.commit()
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø§Ù…Ù„Ø© Ù…Ø®Ø²ÙˆÙ† Ø£ÙˆÙ„ÙŠØ©
    if quantity > 0:
        transaction = InventoryTransaction(
            product_id=product.id,
            transaction_type='in',
            quantity=quantity,
            notes="Initial stock"
        )
        db.session.add(transaction)
        db.session.commit()
    
    return product

def update_product(product_id, **kwargs):
    """ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬"""
    product = Product.query.get(product_id)
    if not product:
        raise ValueError("Product not found")
    
    for key, value in kwargs.items():
        if hasattr(product, key):
            setattr(product, key, value)
    
    product.updated_at = datetime.utcnow()
    db.session.commit()
    
    return product

def generate_product_code(category):
    """ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ ÙØ±ÙŠØ¯ Ù„Ù„Ù…Ù†ØªØ¬"""
    category_prefix = category[:2].upper()
    current_date = datetime.now().strftime("%y%m")
    
    # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¢Ø®Ø± ÙƒÙˆØ¯ Ù…Ù†ØªØ¬ Ø¨Ù†ÙØ³ Ø§Ù„ÙØ¦Ø© ÙˆØ§Ù„Ø´Ù‡Ø±
    last_product = Product.query.filter(
        Product.code.like(f"{category_prefix}{current_date}%")
    ).order_by(Product.code.desc()).first()
    
    if last_product:
        # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ Ù…Ù† Ø¢Ø®Ø± ÙƒÙˆØ¯
        last_sequence = int(last_product.code[-3:])
        new_sequence = last_sequence + 1
    else:
        new_sequence = 1
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯
    new_code = f"{category_prefix}{current_date}{new_sequence:03d}"
    
    return new_code
```

### 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

```python
def add_stock(product_id, quantity, reference=None, notes=None):
    """Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø²ÙˆÙ† Ù„Ù„Ù…Ù†ØªØ¬"""
    product = Product.query.get(product_id)
    if not product:
        raise ValueError("Product not found")
    
    # ØªØ­Ø¯ÙŠØ« ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬
    product.update_quantity(quantity, 'in')
    
    return product

def remove_stock(product_id, quantity, reference=None, notes=None):
    """Ø³Ø­Ø¨ Ù…Ø®Ø²ÙˆÙ† Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬"""
    product = Product.query.get(product_id)
    if not product:
        raise ValueError("Product not found")
    
    if product.quantity < quantity:
        raise ValueError("Insufficient stock")
    
    # ØªØ­Ø¯ÙŠØ« ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬
    product.update_quantity(quantity, 'out')
    
    return product

def get_low_stock_products():
    """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"""
    low_stock_products = []
    products = Product.query.filter(Product.active == True).all()
    
    for product in products:
        if product.is_low_stock():
            low_stock_products.append(product)
    
    return low_stock_products
```

### 3. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

```python
def create_sale(member_id, items, payment_method, discount=0, notes=None):
    """Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯Ø©"""
    # Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù‚Ù… ÙØ±ÙŠØ¯ Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    sale_number = generate_sale_number()
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    sale = Sale(
        sale_number=sale_number,
        member_id=member_id,
        total_amount=0,  # Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§
        discount=discount,
        final_amount=0,  # Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§
        payment_method=payment_method,
        notes=notes,
        created_by=current_user.id
    )
    
    db.session.add(sale)
    db.session.flush()  # Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    
    # Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    for item in items:
        product_id = item['product_id']
        quantity = item['quantity']
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆÙØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        product = Product.query.get(product_id)
        if not product:
            db.session.rollback()
            raise ValueError(f"Product with ID {product_id} not found")
        
        if product.quantity < quantity:
            db.session.rollback()
            raise ValueError(f"Insufficient stock for product {product.name}")
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
        sale_item = SaleItem(
            sale_id=sale.id,
            product_id=product_id,
            quantity=quantity,
            unit_price=product.selling_price,
            subtotal=product.selling_price * quantity
        )
        
        db.session.add(sale_item)
        
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        product.update_quantity(quantity, 'out')
    
    # Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    sale.calculate_total()
    
    # Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    invoice = create_invoice_for_sale(sale)
    
    db.session.commit()
    
    return sale

def generate_sale_number():
    """ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… ÙØ±ÙŠØ¯ Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª"""
    current_date = datetime.now().strftime("%Y%m%d")
    
    # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¢Ø®Ø± Ø±Ù‚Ù… Ù…Ø¨ÙŠØ¹Ø§Øª Ù„Ù†ÙØ³ Ø§Ù„ÙŠÙˆÙ…
    last_sale = Sale.query.filter(
        Sale.sale_number.like(f"S{current_date}%")
    ).order_by(Sale.sale_number.desc()).first()
    
    if last_sale:
        # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ Ù…Ù† Ø¢Ø®Ø± Ø±Ù‚Ù… Ù…Ø¨ÙŠØ¹Ø§Øª
        last_sequence = int(last_sale.sale_number[-4:])
        new_sequence = last_sequence + 1
    else:
        new_sequence = 1
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
    new_number = f"S{current_date}{new_sequence:04d}"
    
    return new_number
```

## ğŸ“± ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

- ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹ Ø³Ø±ÙŠØ¹Ø© ÙˆØ³Ù„Ø³Ø©
- Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø³Ù‡ÙˆÙ„Ø©
- Ø¹Ø±Ø¶ ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù„Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶

## ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

- ØªØ­Ø¯ÙŠØ¯ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- ØªØ­Ø¯ÙŠØ¯ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¥Ø¬Ø±Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹
- ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†

## ğŸš€ Ù…ÙŠØ²Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©

### 1. Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ ÙˆØ§Ù„Ù…Ø§Ø³Ø­ Ø§Ù„Ø¶ÙˆØ¦ÙŠ
- Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
- Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø§Ø³Ø­ Ø§Ù„Ø¶ÙˆØ¦ÙŠ ÙÙŠ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø¬Ø±Ø¯
- Ø·Ø¨Ø§Ø¹Ø© Ù…Ù„ØµÙ‚Ø§Øª Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯

### 2. Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ (POS)
- Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· Ø¨ÙŠØ¹ Ù…ØªÙƒØ§Ù…Ù„
- Ø¯Ø¹Ù… Ø§Ù„Ø·Ø§Ø¨Ø¹Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©
- Ø¯Ø¹Ù… Ø£Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù†Ù‚ÙˆØ¯
- Ø¯Ø¹Ù… Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡

### 3. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- Ø±Ø¨Ø· Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- ØªØªØ¨Ø¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
- ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†


## ğŸ’¡ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

- Ø¥Ø¬Ø±Ø§Ø¡ Ø¬Ø±Ø¯ Ø¯ÙˆØ±ÙŠ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
- Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ø§Ù†ØªØ¸Ø§Ù…
- ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±ÙˆØ¶
- ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù…
- ØªØ­Ø¯ÙŠØ« Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø§Ù†ØªØ¸Ø§Ù…
- Ù…Ø±Ø§Ù‚Ø¨Ø© ØªÙˆØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- ØªÙ‚Ø¯ÙŠÙ… Ø¹Ø±ÙˆØ¶ ÙˆØ®ØµÙˆÙ…Ø§Øª Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø·ÙŠØ¦Ø© Ø§Ù„Ø­Ø±ÙƒØ©